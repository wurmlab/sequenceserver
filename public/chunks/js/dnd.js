"use strict";(self.webpackChunkSequenceServer=self.webpackChunkSequenceServer||[]).push([[875],{4368:(e,t,r)=>{r.r(t),r.d(t,{DnD:()=>y});var n=r(6540),o=r(4848),i=r(4692);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}function d(e,t,r){return t=f(t),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,r||[],f(e).constructor):t.apply(e,r))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var y=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=d(this,t,[e])).state={query:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){var e=this,t=/^>/;i(document).ready((function(){var r=i(".dnd-overlay"),n=function(e){i(".dnd-error").hide(),i("#"+e+"-notification").show(),r.effect("fade",2500)};i(document).on("dragenter",(function(t){if(!i.modalActive()){var n=t.originalEvent.dataTransfer;n.types&&(n.types.indexOf&&-1!=n.types.indexOf("Files")||n.types.contains&&n.types.contains("application/x-moz-file"))&&(i(".dnd-error").hide(),r.stop(!0,!0),r.show(),n.effectAllowed="copy",e.state.query.isEmpty()?(i(".dnd-overlay-overwrite").hide(),i(".dnd-overlay-drop").show("drop",{direction:"down"},"fast")):(i(".dnd-overlay-drop").hide(),i(".dnd-overlay-overwrite").show("drop",{direction:"down"},"fast")))}})).on("dragleave",".dnd-overlay",(function(e){r.hide(),i(".dnd-overlay-drop").hide(),i(".dnd-overlay-overwrite").hide()})).on("dragover",".dnd-overlay",(function(e){e.originalEvent.dataTransfer.dropEffect="copy",e.preventDefault()})).on("drop",".dnd-overlay",(function(o){o.preventDefault(),o.stopPropagation();var a=i("#sequence-file");e.state.query.focus();var l=o.originalEvent.dataTransfer.files;if(l.length>1)n("dnd-multi");else{var s=l[0];if(s.size>262144e3)n("dnd-large-file");else{var d=new FileReader;d.onload=function(o){var i=o.target.result;t.test(i)?(a.text(s.name+" "),e.state.query.value(i),r.hide()):n("dnd-format")},d.onerror=function(e){n("dnd-format")},d.readAsText(s)}}}))}))}},{key:"render",value:function(){return(0,o.jsx)("div",{className:"dnd-overlay absolute left-0 top-0 w-full h-full bg-gray-200 bg-opacity-75 z-40",style:{display:"none"},children:(0,o.jsxs)("div",{className:"flex flex-col space-y-4 h-full items-center justify-center dnd-overlay-container text-2xl",children:[(0,o.jsxs)("p",{className:"dnd-overlay-drop flex items-center space-x-4",style:{display:"none"},children:[(0,o.jsx)("i",{className:"fa fa-2x fa-file"}),"Drop query sequence file here"]}),(0,o.jsxs)("p",{className:"dnd-overlay-overwrite flex items-center space-x-4",style:{display:"none"},children:[(0,o.jsx)("i",{className:"fa fa-2x fa-file"}),(0,o.jsx)("span",{className:"text-red-800",children:"Overwrite"}),"&nbps;query sequence file"]}),(0,o.jsxs)("div",{className:"dnd-errors text-red-800",children:[(0,o.jsx)("div",{className:"dnd-error row",id:"dnd-multi-notification",style:{display:"none"},children:"One file at a time please."}),(0,o.jsx)("div",{className:"dnd-error row",id:"dnd-large-file-notification",style:{display:"none"},children:"Too big a file. Can only do less than 250 MB. >_<"}),(0,o.jsx)("div",{className:"dnd-error row",id:"dnd-format-notification",style:{display:"none"},children:"Only FASTA files please."})]})]})})}}],n&&l(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(n.Component)}}]);
//# sourceMappingURL=dnd.js.map