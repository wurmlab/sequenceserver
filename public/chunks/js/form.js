"use strict";(self.webpackChunkSequenceServer=self.webpackChunkSequenceServer||[]).push([[325,432],{8803:(e,t,n)=>{n.r(t),n.d(t,{Form:()=>Ee});var r=n(6540),a=n.n(r),i=n(6860),o=n(4848),s=n(4692);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function c(e,t,n){return t=h(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,n||[],h(e).constructor):t.apply(e,n))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}var m=function(e){function t(e){var n,a,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=n=c(this,t,[e]),o=function(){n.setState((function(e){return{dropdownVisible:!e.dropdownVisible}}))},(i=f(i="toggleDropdownVisibility"))in a?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,n.state={methods:[],hasQuery:!1,hasDatabases:!1,dropdownVisible:!1,messageTooltip:"",titleTooltip:"",hideMessageTooltip:!1},n.changeAlgorithm=n.changeAlgorithm.bind(n),n.decorate=n.decorate.bind(n),n.setMessageTooltipButton=n.setMessageTooltipButton.bind(n),n.setTitleTooltipButton=n.setTitleTooltipButton.bind(n),n.renderButton=n.renderButton.bind(n),n.inputGroup=n.inputGroup.bind(n),n.handleMouseOver=n.handleMouseOver.bind(n),n.handeMouseOut=n.handeMouseOut.bind(n),n.inputGroupRef=(0,r.createRef)(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;this.timeout=setTimeout((function(){return e.setState({hideMessageTooltip:!0})}),3e3)}},{key:"shouldComponentUpdate",value:function(e,t){return!i.Ay.isEqual(t.methods,this.state.methods)||t.dropdownVisible!==this.state.dropdownVisible||t.messageTooltip!==this.state.messageTooltip||t.titleTooltip!==this.state.titleTooltip||t.hideMessageTooltip!==this.state.hideMessageTooltip}},{key:"componentDidUpdate",value:function(e,t){i.Ay.isEqual(t.methods,this.state.methods)||(this.state.methods.length>0?(this.inputGroup().wiggle(),this.props.onAlgoChanged(this.state.methods[0])):this.props.onAlgoChanged(""))}},{key:"inputGroup",value:function(){return s(this.inputGroupRef.current)}},{key:"changeAlgorithm",value:function(e){var t=this.state.methods.slice();t.splice(t.indexOf(e),1),t.unshift(e),this.setState({methods:t,dropdownVisible:!1})}},{key:"decorate",value:function(e){return e.match(/(.?)(blast)(.?)/).slice(1).map((function(e,t){if(e)return"blast"!==e?(0,o.jsx)("strong",{children:e},e):e}))}},{key:"setMessageTooltipButton",value:function(){this.state.hasQuery||this.state.hasDatabases?this.state.hasQuery&&!this.state.hasDatabases?this.setState({messageTooltip:"You must select one or more databases above before you can run a search!"}):!this.state.hasQuery&&this.state.hasDatabases&&this.setState({messageTooltip:"You must enter a query sequence above before you can run a search!"}):this.setState({messageTooltip:"You must enter a query sequence and select one or more databases above before you can run a search!"})}},{key:"setTitleTooltipButton",value:function(){var e="Click to BLAST or press Ctrl+Enter.";this.setState({titleTooltip:e}),this.state.methods.length>1&&this.setState({titleTooltip:e+=" Click dropdown button on the right for other BLAST algorithms that can be used."})}},{key:"handeMouseOut",value:function(){clearTimeout(this.timeout),this.setState({hideMessageTooltip:!1})}},{key:"handleMouseOver",value:function(){var e=this;this.setMessageTooltipButton(),this.setTitleTooltipButton(),this.timeout=setTimeout((function(){return e.setState({hideMessageTooltip:!0})}),3e3)}},{key:"renderButton",value:function(e,t,n){return(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)("button",{type:"submit",className:"".concat(e?"hover:bg-seqorange focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-seqorange ":"opacity-50 cursor-not-allowed ","uppercase w-full md:w-auto flex text-xl justify-center py-2 px-16 border border-transparent rounded-md shadow-sm text-white bg-seqblue"),id:"method",name:"method",value:e,disabled:!e,children:this.decorate(e||"blast")}),t&&(0,o.jsxs)("div",{className:"ui--multi-dropdown",children:[(0,o.jsxs)("button",{className:"text-xl bg-seqblue rounded-r-md text-white p-2 border border-seqblue hover:bg-seqorange focus:outline-none focus:ring-1 focus:ring-seqorange -ml-8",type:"button",onClick:this.toggleDropdownVisibility,children:[(0,o.jsx)("i",{className:"fas fa-caret-down w-6 h-6 fill-current"}),(0,o.jsx)("span",{className:"sr-only",children:"Other methods"})]}),(0,o.jsx)("div",{id:"dropdown",className:"z-10 my-2 uppercase bg-blue-300 divide-y divide-gray-100 rounded-lg shadow absolute left-0 bottom-12 w-full text-xl text-center ".concat(this.state.dropdownVisible?"":"hidden"),children:(0,o.jsx)("ul",{className:"text-gray-700","aria-labelledby":"dropdownDefaultButton",children:i.Ay.map(n.slice(1),i.Ay.bind((function(e){return(0,o.jsx)("li",{onClick:i.Ay.bind((function(){this.changeAlgorithm(e)}),this),children:(0,o.jsx)("a",{href:"#",className:"block px-4 py-2 hover:bg-blue-400 rounded-lg",children:e})},e)}),this))})})]})]})}},{key:"render",value:function(){var e=this.state.methods,t=e[0],n=e.length>1;return(0,o.jsx)("div",{className:"my-4 md:my-2 flex justify-end w-full md:w-auto relative",id:"methods",ref:this.inputGroupRef,onMouseOver:this.handleMouseOver,onMouseOut:this.handeMouseOut,children:(0,o.jsx)("div",{className:"relative flex flex-col items-center group",children:(0,o.jsxs)("div",{className:"flex items-center w-full",children:[this.renderButton(t,n,e),!this.state.dropdownVisible&&(0,o.jsxs)("div",{className:"absolute hidden bottom-11 items-center flex-col-reverse group-hover:flex w-full",children:[(0,o.jsx)("div",{className:"w-0 h-0 border-y-8 border-r-8 border-t-transparent border-b-transparent border-r-black -mt-1 -mr-px tooltip-arrow-rotate"}),(0,o.jsx)("span",{className:"relative z-10 p-2 search-button-text leading-4 text-center text-white whitespace-no-wrap bg-black shadow-lg rounded-md",children:this.state.hasQuery&&this.state.hasDatabases?(0,o.jsxs)(o.Fragment,{children:[" ",this.state.titleTooltip]}):this.state.hideMessageTooltip?(0,o.jsx)(o.Fragment,{children:this.state.titleTooltip}):this.state.messageTooltip})]})]})})})}}])&&u(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a}(r.Component),y=n(756),b=n(756);function g(e,t){var n=b.select("body").append("a").attr("download",t).style("display","none").attr("href",e);n.node().click(),setTimeout((function(){n.remove()}),100)}function v(e){var t=e.replace(/[^a-zA-Z0-9=_\-]/g,"_");return(t=t.replace(/_{2,}/g,"_")).replace(/^_/,"").replace(/_$/,"")}var x=n(4692),S=function(e){return e=e.cloneNode(!0),y.select(e).attr("version","1.1").insert("defs",":first-child").append("style").attr("class","exported-css").attr("type","text/css").node().textContent=w(),e.removeAttribute("xmlns"),e.removeAttribute("xlink"),e.setAttributeNS(y.namespaces.xmlns,"xmlns",y.namespaces.svg),e.setAttributeNS(y.namespaces.xmlns,"xmlns:xlink",y.namespaces.xlink),'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+(new XMLSerializer).serializeToString(e)},w=function(){for(var e="",t=0;t<document.styleSheets.length;t++)!function t(n){try{if(!n.cssRules)return}catch(e){if("SecurityError"!==e.name)throw e;return}for(var r=0;r<n.cssRules.length;r++){var a=n.cssRules[r];if(a.type===CSSRule.IMPORT_RULE)t(a.styleSheet);else{var i=a.selectorText;i&&-1!==i.indexOf("svg")&&(e+="\n"+a.cssText)}}}(document.styleSheets[t]);return e},k=function(e){return function(){var t=x(this).parents(".grapher").find("svg");return e(t[0],t.attr("data-name")),!1}},_=x("body");function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q(r.key),r)}}function q(e){var t=function(e){if("object"!=j(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(t)?t:t+""}_.on("click",".export-to-svg",k((function(e,t){!function(e,t){void 0!==window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(e,t):g(function(e){return window.URL.createObjectURL(e)}(e),t)}(new Blob([S(e)],{type:"text/xml"}),t=v(t)+".svg")}))),_.on("click",".export-to-png",k((function(e,t){if(void 0===window.navigator.msSaveOrOpenBlob){var n=document.getElementById("png-exporter"),r=x(e);n.height=5*r.height(),n.width=5*r.width();var a=new Image;a.onload=function(){n.getContext("2d").drawImage(a,0,0,n.width,n.height),t=v(t)+".png",g(n.toDataURL("image/png"),t)};var i=S(e),o=encodeURIComponent(i).replace(/%([0-9A-F]{2})/gi,(function(e,t){return String.fromCharCode("0x"+t)}));a.src="data:image/svg+xml;base64,"+window.btoa(o)}else alert("Exporting PNG images is not supported in Internet Explorer. Please use Chrome or Firefox.")})));var C=function(){return e=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.component=t,this.defaultCollapsed=n,this.storageKey="sequenceServerCollapseStates",this.collapseStates=JSON.parse(localStorage.getItem(this.storageKey))||{}},(t=[{key:"toggleCollapse",value:function(){var e=this.component.state.collapsed;this.component.setState({collapsed:!e}),this.collapseStates[this.component.name]=!e,localStorage.setItem(this.storageKey,JSON.stringify(this.collapseStates))}},{key:"preferenceStoredAsCollapsed",value:function(){return this.component.name in this.collapseStates?this.collapseStates[this.component.name]:this.defaultCollapsed}},{key:"renderCollapseIcon",value:function(){return this.component.state.collapsed?this.plusIcon():this.minusIcon()}},{key:"minusIcon",value:function(){return(0,o.jsx)("i",{className:"print:!hidden fa-regular fa-square-minus"})}},{key:"plusIcon",value:function(){return(0,o.jsx)("i",{className:"print:!hidden fa-regular fa-square-plus"})}}])&&O(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),T=n(2326),P=n(4692);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function B(e){return function(t){var n=void 0!==e.alwaysShowName&&e.alwaysShowName(),a=(0,T.A)(),s=e.name(t),l=D((0,r.useState)(window.innerWidth),2),u=l[0],c=l[1],d=D((0,r.useState)(!1),2),h=d[0],p=d[1],f=(0,r.createRef)(),m=function(){return(0,o.jsxs)("div",{className:"hit-links float-right text-right text-blue-300 h-4 print:hidden",children:[(0,o.jsxs)("a",{href:"#",className:"btn-link text-sm text-seqblue hover:text-seqorange cursor-pointer export-to-svg",children:[(0,o.jsx)("i",{className:"fa fa-download"})," SVG"]}),(0,o.jsx)("span",{className:"line px-1",children:"|"}),(0,o.jsxs)("a",{href:"#",className:"btn-link text-sm text-seqblue hover:text-seqorange cursor-pointer export-to-png",children:[(0,o.jsx)("i",{className:"fa fa-download"})," PNG"]})]})},y=function(){return P(f.current)},b=function(){var n="auto";arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(n="900"),y().empty(),h||(y().width(n),new e(y(),t),y().find("svg").attr("data-name",e.dataName(t)))};(0,r.useEffect)((function(){var n=i.Ay.debounce((function(){return c(window.innerWidth)}),125);window.addEventListener("resize",n);var r=g.preferenceStoredAsCollapsed();return p(e.canCollapse()&&(t.collapsed||r)),b(),function(){return window.removeEventListener("resize",n)}}),[]),(0,r.useEffect)((function(){b(a)}),[a,u]);var g=new C({name:s,state:{collapsed:h},setState:function(e){p(e.collapsed)}});if(null===e.name(t))return null;var v=h?"print:hidden":"",x=e.className()+" grapher"+v;return(0,o.jsxs)("div",{className:x,children:[e.canCollapse()?(0,o.jsxs)("div",{className:"grapher-header pr-px",children:[(0,o.jsxs)("h4",{className:"inline-block pl-px m-0 caption cursor-pointer text-sm",onClick:function(){return g.toggleCollapse()},children:[g.renderCollapseIcon(),(0,o.jsx)("span",{className:"print:hidden",children:" "}),e.name(t)]}),!h&&m()]}):n?(0,o.jsxs)("div",{className:"grapher-histogram-header",style:{position:"relative"},children:[(0,o.jsxs)("h4",{className:"caption",children:[" ",e.name(t)]}),(0,o.jsx)("div",{className:"pull-right",style:{position:"absolute",top:0,right:0},children:!h&&m()})]}):(0,o.jsx)("div",{className:"pr-px",children:!h&&m()}),function(){var n=e.className()+" svg-container hidden";return h||(n+=" !block"),(0,o.jsx)("div",{ref:f,id:e.graphId(t),className:n})}()]})}}function E(e,t){var n=y.scaleLog().domain([y.min([1e-5,y.min(t.map((function(e){if(0!==parseFloat(e.evalue))return e.evalue})))]),y.max(t.map((function(e){return e.evalue})))]).range([0,.8])(e);return y.hsl(20,.82,n)}function R(e){var t=e.replace(/[0-9.]/g,""),n=parseFloat(e).toFixed(2),r=Math.round(10*n)/10;return"".concat(r%1==0?r.toFixed(0):r," ").concat(t)}function N(e){var t=e.toString().split("e"),n=t[0],r=t[1];return r?"<span>"+parseFloat(n).toFixed(2)+" &times; 10<sup>"+r+"</sup></span>":n%1!=0?parseFloat(n).toFixed(2):n}const I=function(e,t){var n=(100*e/t).toFixed(1);return n%1==0?(n=parseInt(n,10),"".concat(n,"%")):"".concat(n,"%")};var M=n(4692);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F(r.key),r)}}function F(e){var t=function(e){if("object"!=G(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==G(t)?t:t+""}B(function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.svg_container=t;var r=t.parents(".resultn"),a=this.extractData(n.query.hits,n.query.number);this.graphIt(r,t,0,20,null,a)},t=[{key:"extractData",value:function(e,t){var n=[];return e.map((function(e){var r=[],a=e.hsps;i.Ay.each(a,(function(n){var a={};a.hspEvalue=n.evalue,a.hspStart=n.qstart,a.hspEnd=n.qend,a.hspFrame=n.sframe,a.hspId="Query_"+t+"_hit_"+e.number+"_hsp_"+n.number,a.hspIdentity=n.identity,a.hspGaps=n.gaps,a.hspPositives=n.positives,a.hspLength=n.length,r.push(a)})),r.hitId=e.id,r.hitDef="Query_"+t+"_hit_"+e.number,r.hitEvalue=e.hsps[0].evalue,n.push(r)})),n}},{key:"setupClick",value:function(e){M("a",e).click((function(e){e.preventDefault(),e.stopPropagation(),window.location.hash=M(this).attr("href")}))}},{key:"graphControls",value:function(e,t,n,r,a){var o,s,l,u,c=20,d=function(){o=a.length,s=e.find(".ghit > g").length},h=function(){d(),o===c||s<c?(l.hide(),u.hide()):s===o?(u.hide(),l.show()):s===c?(l.hide(),u.show()):(l.show(),u.show())};!0===n&&(function(e,t){t.append(M("<button/>").addClass("btn btn-link text-sm text-seqblue hover:text-seqorange cursor-pointer more").attr("type","button").attr("data-parent-query",e.attr("id")).html("View More&nbsp;").append(M("<i/>").html("&nbsp;&nbsp;").addClass("fa fa-angle-double-down")),M("<button/>").addClass("btn btn-link text-sm text-seqblue hover:text-seqorange cursor-pointer less").attr("type","button").attr("data-parent-query",e.attr("id")).html("View Less&nbsp;").append(M("<i/>").html("&nbsp;&nbsp;").addClass("fa fa-angle-double-up"))),l=M(".less",t),u=M(".more",t)}(e,t),h()),u.on("click",i.Ay.bind((function(n){d(),this.graphIt(e,t,s,c,r,a),h(),n.stopPropagation()}),this)),l.on("click",i.Ay.bind((function(n){d();var i=s-c;i>=c?(this.graphIt(e,t,s,-20,r,a),h()):0!==i&&(this.graphIt(e,t,s,c-s,r,a),h()),n.stopPropagation()}),this))}},{key:"drawLegend",value:function(e,t,n,r,a){var i=e.append("g").attr("transform","translate(0,"+(r-1.75*t.margin)+")");i.append("rect").attr("x",7.5*(n-2*t.margin)/10).attr("width",2*(n-4*t.margin)/10).attr("height",t.legend).attr("fill","url(#legend-grad)"),i.append("text").attr("class"," legend-text").attr("transform","translate(0, "+t.legend+")").attr("x",9.5*(n-2*t.margin)/10+t.margin/2).text("Weaker hits"),i.append("text").attr("class"," legend-text").attr("transform","translate(0, "+t.legend+")").attr("x",6.7*(n-2*t.margin)/10-t.margin/2).text("Stronger hits"),e.append("linearGradient").attr("id","legend-grad").selectAll("stop").data([{offset:"0%",color:"#000"},{offset:"45%",color:"#c74f14"},{offset:"100%",color:"#f6bea2"}]).enter().append("stop").attr("offset",(function(e){return e.offset})).attr("stop-color",(function(e){return e.color}))}},{key:"graphIt",value:function(e,t,n,r,a,i){var o={barHeight:4,legend:i.length>1?3:0,margin:20},s=M.extend(o,a),l=i.slice(0,n+r);if(l.length<1)return!1;0!==n&&t.find("svg").remove();var u=e.data().queryLen,c=e.attr("id"),d=t.width(),h=l.length*s.barHeight+2*s.legend+4*s.margin,p=y.select(t[0]).selectAll("svg").data([l]).enter().insert("svg",":first-child").attr("width",d).attr("height",h).append("g").attr("transform","translate("+s.margin/2+", "+1.5*s.margin+")"),f=y.scaleLinear().range([0,d-s.margin]);f.domain([1,u]);var m,b,g,v=e.data().algorithm,x=(m={blastn:"nucleic_acid",blastp:"amino_acid",blastx:"nucleic_acid",tblastx:"nucleic_acid",tblastn:"amino_acid"}[v],b=y.format("~s"),g={amino_acid:"aa",nucleic_acid:"bp"},function(e){var t=b(e);return"".concat(R(t)).concat(g[m])}),S=f.ticks(11);S.pop();var w=y.axisBottom(f).tickValues(S.concat([1,u])).tickFormat(x);p.append("g").attr("transform","translate(0, "+s.margin+")").append("g").attr("class","x axis").call(w).selectAll("text").attr("x","25px").attr("y","2px").attr("transform","rotate(-90)");var k=y.scaleBand().range([0,h-3*s.margin-2*s.legend],.3);k.domain(l.map((function(e){return e.hitId})));var _=y.scaleLog().domain([y.min([1e-5,y.min(l.map((function(e){if(0!==parseFloat(e.hitEvalue))return e.hitEvalue})))]),y.max(l.map((function(e){return e.hitEvalue})))]).range([0,.8]);p.append("g").attr("class","ghit").attr("transform","translate(0, "+1.65*(s.margin-s.legend)+")").selectAll(".hits").data(l).enter().append("g").each((function(e,t){y.select(this).selectAll(".hsp").data(e).enter().append("a").each((function(n,r){var a=k(e.hitId)+s.barHeight/2,i=y.hsl(20,.82,_(n.hspEvalue));r+1<e.length&&(e[r].hspEnd<=e[r+1].hspStart?y.select(this.parentNode).append("line").attr("x1",f(e[r].hspEnd)).attr("y1",a).attr("x2",f(e[r+1].hspStart)).attr("y2",a).attr("stroke",i):e[r].hspStart>e[r+1].hspEnd&&y.select(this.parentNode).append("line").attr("x1",f(e[r+1].hspEnd)).attr("y1",a).attr("x2",f(e[r].hspStart)).attr("y2",a).attr("stroke",i));var o=e.hitId+"<br>E value: "+N(n.hspEvalue)+"<br>Identities: ".concat(I(n.hspIdentity,n.hspLength));"blastn"!=v&&(o+="<br>Positives: ".concat(I(n.hspPositives,n.hspLength))),o+=", Gaps: ".concat(I(n.hspGaps,n.hspLength)),y.select(this).attr("xlink:href","#"+c+"_hit_"+(t+1)).append("rect").attr("title",o).attr("class","bar").attr("x",(function(e){return f(e.hspStart)})).attr("y",k(e.hitId)).attr("width",(function(e){return f(e.hspEnd-e.hspStart+1)})).attr("height",s.barHeight).attr("fill",y.rgb(i))}))})),l.length>1&&this.drawLegend(p,s,d,h,i),0===n&&this.graphControls(e,t,!0,a,i),this.setupClick(t)}}],n=[{key:"canCollapse",value:function(){return!0}},{key:"name",value:function(){return"Graphical overview of aligning hit sequences to the query"}},{key:"className",value:function(){return"alignment-overview"}},{key:"graphId",value:function(e){return"alignment_"+e.query.number}},{key:"dataName",value:function(e){return"Alignment-Overview-"+e.query.id}}],t&&L(e.prototype,t),n&&L(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}());var V=n(4692);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y(r.key),r)}}function Y(e){var t=function(e){if("object"!=z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==z(t)?t:t+""}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}B(function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.query=n.query,this._seq_type={blastn:{query_seq_type:"nucleic_acid",subject_seq_type:"nucleic_acid"},blastp:{query_seq_type:"amino_acid",subject_seq_type:"amino_acid"},blastx:{query_seq_type:"nucleic_acid",subject_seq_type:"amino_acid"},tblastx:{query_seq_type:"nucleic_acid",subject_seq_type:"nucleic_acid"},tblastn:{query_seq_type:"amino_acid",subject_seq_type:"nucleic_acid"}}[n.algorithm],this.svg_container=t,"blastx"==n.algorithm?this.query_length=this.query.length/3:"tblastn"==n.algorithm?this.query_length=3*this.query.length:this.query_length=this.query.length,this._margin={top:30,right:25,bottom:55,left:12.5},this.initiate(t.width(),t.height())},t=[{key:"initiate",value:function(e,t){this._width=e-this._margin.left-this._margin.right,this._height=t-this._margin.top-this._margin.bottom,this.svg=y.select(this.svg_container[0]).insert("svg",":first-child").attr("width",this._width+this._margin.right+this._margin.left).attr("height",this._height+this._margin.top+this._margin.bottom).append("g").attr("transform","translate("+this._margin.left+","+this._margin.top+")"),this.hit_lengths(),this.define_scale_and_bins(),this.update_data(),this.draw()}},{key:"draw",value:function(){this.draw_rectangles(),this.draw_query_line(),this.draw_axes()}},{key:"define_scale_and_bins",value:function(){this._scale_x=y.scaleLinear().domain([0,1.01*y.max([this.query_length,y.max(this._data)])]).nice().range([0,this._width]),this._bins=y.bin().domain(this._scale_x.domain()).thresholds(this._scale_x.ticks(50))(this._data),this._scale_y=y.scaleLinear().domain([0,y.max(this._bins,(function(e){return e.length}))]).range([this._height,0]).nice()}},{key:"hit_lengths",value:function(){this._data=i.Ay.map(this.query.hits,i.Ay.iteratee("length"))}},{key:"setupResponsiveness",value:function(){var e=V(window).width();console.log("cureent "+e);var t=i.Ay.debounce(i.Ay.bind((function(){e!=V(window).width()&&(console.log("redraw initiated "+this._height),this.draw(),e=V(window).width())}),this),125);V(window).resize(t)}},{key:"tick_formatter",value:function(e){var t=this._scale_x.ticks(),n=y.format("~s"),r={amino_acid:"aa",nucleic_acid:"bp"};return function(a){if(0!==a&&t.includes(a)){if("aa"===r[e])return"".concat(a," ").concat(r[e]);var i=n(a);return"".concat(R(i)).concat(r[e])}}}},{key:"update_data",value:function(){var e=this,t=[];this._bins.map((function(n){var r=[];n.reverse();var a=n.length;n.map((function(t,o){var s=n.length-(o+1),l=i.Ay.findIndex(e.query.hits,{length:t}),u=e.query.hits[l].hsps[0].evalue,c={value:t,id:e.query.hits[l].id,evalue:u,url:"#Query_"+e.query.number+"_hit_"+e.query.hits[l].number,y0:a,y1:a+=s-a,color:E(u,e.query.hits)};r.push(c)}));var o={data:r,x:n.x0,dx:n.x1,length:n.length};t.push(o)})),this._update_data=t}},{key:"draw_rectangles",value:function(){var e=this;this.svg.selectAll(".bar").data(this._update_data).enter().append("g").attr("class","g").attr("transform",(function(t){return"translate("+(e._scale_x(t.x)+e._margin.left)+",0)"})).selectAll("rect").data((function(e){return e.data})).enter().append("a").attr("xlink:href",(function(e){return e.url})).append("rect").attr("class","bar").attr("title",(function(e){return e.id+" <br>E value: "+N(e.evalue)+"<br>Length: "+e.value})).attr("x",1).attr("y",(function(t){return e._scale_y(t.y0)})).attr("width",e._scale_x(this._bins[1].x0)-e._scale_x(this._bins[0].x0)-1).attr("height",(function(t){return e._scale_y(t.y1)-e._scale_y(t.y0)})).attr("fill",(function(e){return e.color}))}},{key:"draw_query_line",value:function(){var e=this.svg.append("g").attr("class","query_line").attr("transform","translate("+(this._margin.left+this._scale_x(this.query_length))+",0)");e.append("rect").attr("x",1).attr("class","bar").attr("width",4).attr("height",this._height).style("fill","#c74f14"),e.append("text").attr("dy","0.75em").attr("y",-10).attr("x",2).attr("text-anchor","start").text("Query").style("fill","#000").attr("transform","rotate(-45)")}},{key:"draw_axes",value:function(){var e,t;e=(t=this._scale_y.ticks().length)>=5?5:t;var n=this.tick_formatter(this._seq_type.subject_seq_type),r=y.axisTop(this._scale_x).ticks(50).tickFormat(n),a=y.axisLeft(this._scale_y).tickValues(this._scale_y.ticks(e)).tickSizeOuter(0).tickFormat((function(e){if(Math.floor(e)==e)return e})),o=this._scale_y.ticks();for(var s in o)if(o[s]%1!=0){a.tickValues(y.range(0,y.max(this._bins,(function(e){return e.length}))+1));break}var l=this,u=this.svg.append("g").attr("class","axis axis--x").attr("transform","translate("+this._margin.left+","+this._height+")").call(r);u.selectAll("line").attr("y2",(function(e){var t=l._scale_x.ticks();return i.Ay.indexOf(t,e)>=0?7:4})),u.selectAll("text").style("text-anchor","end").attr("x","-8px").attr("y","3px").attr("dy","0").attr("transform","rotate(-90)"),this.svg.append("g").attr("class","axis axis--y").attr("transform","translate("+this._margin.left+",0)").call(a)}}],n=[{key:"canCollapse",value:function(){return!0}},{key:"name",value:function(){return"Length distribution of matching hit sequences"}},{key:"className",value:function(){return"length-distribution"}},{key:"graphId",value:function(e){return"length_"+e.query.number}},{key:"dataName",value:function(e){return"length-distribution-"+e.query.id}}],t&&W(e.prototype,t),n&&W(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}());var Q=function(e){return e[0]=">"+e[0].substring(1),e.slice(0,2)},H=function(e){return 4===e.length&&"@"===e[0][0]&&"+"===e[2][0]&&e[1].length===e[3].length},X=(n(7917),n(4692));function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z(r.key),r)}}function Z(e){var t=function(e){if("object"!=J(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==J(t)?t:t+""}function $(e,t,n){return t=te(t),function(e,t){if(t&&("object"==J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ee()?Reflect.construct(t,n||[],te(e).constructor):t.apply(e,n))}function ee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ee=function(){return!!e})()}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}var re=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=$(this,t,[e])).state={value:X("input#input_sequence").val()||""},n.value=n.value.bind(n),n.clear=n.clear.bind(n),n.focus=n.focus.bind(n),n.isEmpty=n.isEmpty.bind(n),n.textarea=n.textarea.bind(n),n.controls=n.controls.bind(n),n.handleInput=n.handleInput.bind(n),n.hideShowButton=n.hideShowButton.bind(n),n.indicateError=n.indicateError.bind(n),n.indicateNormal=n.indicateNormal.bind(n),n.type=n.type.bind(n),n.guessSequenceType=n.guessSequenceType.bind(n),n.preProcessSequence=n.preProcessSequence.bind(n),n.notify=n.notify.bind(n),n.textareaRef=(0,r.createRef)(),n.controlsRef=(0,r.createRef)(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}(t,e),n=t,a=[{key:"componentDidMount",value:function(){X("body").click((function(){X("[data-notifications] [data-role=notification].active").hide("drop",{direction:"up"}).removeClass("active")}))}},{key:"componentDidUpdate",value:function(){this.hideShowButton(),this.preProcessSequence(),this.props.onSequenceChanged(this.residuesCount());var e=this.type();e&&e===this._type||(this._type=e,this.notify(e),this.props.onSequenceTypeChanged(e))}},{key:"value",value:function(e){return null==e?this.state.value:(this.setState({value:e}),this)}},{key:"residuesCount",value:function(){return this.value().split("\n").reduce((function(e,t){return t.startsWith(">")?e:e+t.length}),0)}},{key:"clear",value:function(){return this.value("").focus()}},{key:"focus",value:function(){return this.textarea().focus(),this}},{key:"isEmpty",value:function(){return!this.value()}},{key:"textarea",value:function(){return X(this.textareaRef.current)}},{key:"controls",value:function(){return X(this.controlsRef.current)}},{key:"handleInput",value:function(e){this.value(e.target.value)}},{key:"hideShowButton",value:function(){if(this.isEmpty())this.textarea().parent().removeClass("has-error"),this.$sequenceFile=X("#sequence-file"),this.$sequenceFile.empty(),this.controls().addClass("hidden");else{var e=this.textarea()[0],t=e.offsetWidth-e.clientWidth;this.controls().css("right",t+17),this.controls().removeClass("hidden")}}},{key:"indicateError",value:function(){this.textarea().parent().addClass("has-error")}},{key:"indicateNormal",value:function(){this.textarea().parent().removeClass("has-error")}},{key:"type",value:function(){var e=this.value().trim();if(!e.startsWith("@")){for(var t,n,r=e.split(/>.*/),a=0;a<r.length;a++)if(n=this.guessSequenceType(r[a]))if(t){if(n!==t)return"mixed"}else t=n;return t}}},{key:"preProcessSequence",value:function(){var e=this.value(),t=function(e){var t,n=e.trim();if(!n.startsWith("@"))return e;for(var r=n.split("\n"),a=[],i=0;i<r.length;i+=4){var o=r.slice(i,i+4);if(!H(o))return e;a.push.apply(a,function(e){if(Array.isArray(e))return U(e)}(t=Q(o))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}return a.join("\n")}(e);e!==t&&(this.value(t),this.notify("fastq"))}},{key:"guessSequenceType",value:function(e){if(!((e=(e=e.replace(/[^A-Z]/gi,"")).replace(/[NX]/gi,"")).length<10)){for(var t=0,n=0;n<e.length;n++)e[n].match(/[ACGTU]/i)&&(t+=1);return t>.9*e.length?"nucleotide":"protein"}}},{key:"notify",value:function(e){this.indicateNormal(),clearTimeout(this.notification_timeout),e&&(X("#"+e+"-sequence-notification").show("drop",{direction:"up"}).addClass("active"),this.notification_timeout=setTimeout((function(){X("[data-notifications] [data-role=notification].active").hide("drop",{direction:"up"}).removeClass("active")}),5e3),"mixed"===e&&this.indicateError())}},{key:"render",value:function(){return(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("div",{className:"sequence",children:(0,o.jsx)("textarea",{id:"sequence",ref:this.textareaRef,className:"block w-full p-4 text-gray-900 border border-gray-300 rounded-l-lg rounded-tr-lg bg-gray-50 text-sm font-mono min-h-52 resize-y",name:"sequence",value:this.state.value,rows:"6",required:"required",placeholder:"Paste query sequence(s) or drag file containing query sequence(s) in FASTA format here ...",spellCheck:"false",autoFocus:!0,onChange:this.handleInput})}),(0,o.jsx)("div",{className:"hidden absolute top-2 right-2",ref:this.controlsRef,children:(0,o.jsxs)("button",{type:"button",className:"border border-gray-300 rounded bg-white hover:bg-gray-200",id:"btn-sequence-clear",title:"Clear query sequence(s).",onClick:this.clear,children:[(0,o.jsx)("span",{id:"sequence-file"}),(0,o.jsx)("i",{className:"fa fa-times w-6 h-6 p-1"}),(0,o.jsx)("span",{className:"sr-only",children:"Clear query sequence(s)."})]})})]})}}],a&&K(n.prototype,a),i&&K(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.Component);function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,se(r.key),r)}}function se(e){var t=function(e){if("object"!=ae(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ae(t)?t:t+""}function le(e,t,n){return t=ce(t),function(e,t){if(t&&("object"==ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ue()?Reflect.construct(t,n||[],ce(e).constructor):t.apply(e,n))}function ue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ue=function(){return!!e})()}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ce(e)}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}var he=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=le(this,t,[e])).state={textValue:"",objectValue:n.defaultObjectValue(),paramsMode:"advanced"},n.onTextValueChanged=n.onTextValueChanged.bind(n),n.optionsPresetsJSX=n.optionsPresetsJSX.bind(n),n.advancedParamsJSX=n.advancedParamsJSX.bind(n),n.showAdvancedOptionsHelp=n.showAdvancedOptionsHelp.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}(t,e),n=t,r=[{key:"defaultObjectValue",value:function(){return{max_target_seqs:"",evalue:"",task:""}}},{key:"componentDidUpdate",value:function(e){if(e.predefinedOptions!==this.props.predefinedOptions){var t=this.props.predefinedOptions.default||{attributes:[]},n=(this.props.predefinedOptions["last search"]||t||{attributes:[]}).attributes.join(" ").trim(),r=this.parsedOptions(n);this.setState({textValue:n,objectValue:r})}}},{key:"onTextValueChanged",value:function(e){var t=this.parsedOptions(e.toString());this.setState({textValue:e.toString(),objectValue:t})}},{key:"parsedOptions",value:function(e){for(var t=e.split(" "),n=this.defaultObjectValue(),r=0;r<t.length;r+=2)if(t[r]&&t[r].startsWith("-")){var a=t[r].substring(1).trim();t[r+1]?n[a]=t[r+1]:n[a]=null}return n}},{key:"optionsPresetsJSX",value:function(){return(0,o.jsx)("div",{id:"options-presets",className:"w-full",children:Object.keys(this.props.predefinedOptions).length>1&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex items-center border-b border-seqorange mb-2",children:[(0,o.jsx)("h3",{className:"text-base md:text-lg font-medium pr-1",children:"Settings"}),(0,o.jsx)("p",{className:"text-base text-gray-500",children:"Choose a predefined setting or customize parameters."})]}),this.presetListJSX()]})})}},{key:"presetListJSX",value:function(){var e=this;return(0,o.jsx)("ul",{className:"md:text-lg my-1",children:Object.entries(this.props.predefinedOptions).map((function(t,n){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),a=r[0],i=r[1],s=i.attributes.join(" ").trim(),l=i.description||s;return(0,o.jsxs)("label",{className:"block w-full px-2 py-1 text-seqblue hover:bg-gray-200 hover:text-seqorange cursor-pointer",children:[(0,o.jsx)("input",{type:"radio",name:"predefinedOption",value:s,checked:s===e.state.textValue,onChange:function(){return e.onTextValueChanged(s)}}),(0,o.jsxs)("strong",{className:"ml-2",children:[a,":"]})," ",l]},n)}))})}},{key:"advancedParamsJSX",value:function(){var e=this,t="flex-grow block px-4 py-1 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-base font-mono";return this.state.textValue&&(t+=" bg-yellow-100"),(0,o.jsxs)("div",{className:"advanced"!==this.state.paramsMode?"w-full hidden":"w-full",children:[(0,o.jsxs)("div",{className:"flex items-end",children:[(0,o.jsx)("label",{className:"flex items-center text-base md:text-lg",htmlFor:"advanced",children:"Parameters:"}),this.props.blastMethod&&(0,o.jsxs)("button",{className:"text-seqblue text-base md:text-lg ml-2",type:"button",onClick:this.showAdvancedOptionsHelp,"data-toggle":"modal","data-target":"#help",children:["See options",(0,o.jsx)("i",{className:"fa fa-question-circle ml-1 w-3 h-4 fill-current"})]})]}),(0,o.jsx)("div",{className:"flex-grow flex w-full",children:(0,o.jsx)("input",{type:"text",className:t,onChange:function(t){return e.onTextValueChanged(t.target.value)},id:"advanced",name:"advanced",value:this.state.textValue,placeholder:"eg: -evalue 1.0e-5 -num_alignments 100",title:"View, and enter advanced parameters."})}),(0,o.jsx)("div",{className:"mt-1 text-gray-700",children:"Options as they would appear in a command-line."})]})}},{key:"showAdvancedOptionsHelp",value:function(e){for(var t=this.props.blastMethod.toLowerCase(),n=document.querySelector("dialog.advanced-modal"),r=0,a=["blastn","tblastn","blastp","blastx","tblastx"];r<a.length;r++){var i=a[r];i===t?document.getElementById(i).classList.remove("hidden"):document.getElementById(i).classList.add("hidden")}n.showModal()}},{key:"render",value:function(){return(0,o.jsxs)("div",{className:"flex-grow flex flex-col items-start sm:items-center space-y-4",children:[this.optionsPresetsJSX(),this.advancedParamsJSX()]})}}],r&&oe(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r.Component);function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,me(r.key),r)}}function me(e){var t=function(e){if("object"!=pe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pe(t)?t:t+""}function ye(e,t,n){return t=ge(t),function(e,t){if(t&&("object"==pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,be()?Reflect.construct(t,n||[],ge(e).constructor):t.apply(e,n))}function be(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(be=function(){return!!e})()}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ge(e)}function ve(e,t){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ve(e,t)}const xe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ye(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){}},{key:"componentDidUpdate",value:function(){console.log("Query stats:",this.props)}}])&&fe(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(a().Component);var Se=n(4692);function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oe(r.key),r)}}function je(e,t,n){return t&&_e(e.prototype,t),n&&_e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oe(e){var t=function(e){if("object"!=we(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==we(t)?t:t+""}function qe(e,t,n){return t=Te(t),function(e,t){if(t&&("object"==we(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ce()?Reflect.construct(t,n||[],Te(e).constructor):t.apply(e,n))}function Ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ce=function(){return!!e})()}function Te(e){return Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(e)}function Pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},De(e,t)}var Ae=a().lazy((function(){return n.e(144).then(n.bind(n,2144)).then((function(e){return{default:e.Databases}}))})),Be=a().lazy((function(){return Promise.all([n.e(228),n.e(472)]).then(n.bind(n,5515))})),Ee=function(e){function t(e){var n;return ke(this,t),(n=qe(this,t,[e])).state={databases:[],preSelectedDbs:[],currentlySelectedDbs:[],preDefinedOpts:{},tree:{},residuesInQuerySequence:0,blastMethod:""},n.useTreeWidget=n.useTreeWidget.bind(n),n.determineBlastMethods=n.determineBlastMethods.bind(n),n.handleSequenceTypeChanged=n.handleSequenceTypeChanged.bind(n),n.handleSequenceChanged=n.handleSequenceChanged.bind(n),n.handleDatabaseTypeChanged=n.handleDatabaseTypeChanged.bind(n),n.handleDatabaseSelectionChanged=n.handleDatabaseSelectionChanged.bind(n),n.handleAlgoChanged=n.handleAlgoChanged.bind(n),n.handleFormSubmission=n.handleFormSubmission.bind(n),n.formRef=(0,r.createRef)(),n.query=(0,r.createRef)(),n.button=(0,r.createRef)(),n.setButtonState=n.setButtonState.bind(n),n}return Pe(t,e),je(t,[{key:"componentDidMount",value:function(){var e=location.search.split(/\?|&/).filter(Boolean),t=sessionStorage.getItem("job_id");t&&e.unshift("job_id=".concat(t)),Se.getJSON("searchdata.json?".concat(e.join("&")),function(e){var t=this;this.setState({tree:e.tree,databases:e.database,preSelectedDbs:e.preSelectedDbs,preDefinedOpts:e.options,blastTaskMap:e.blastTaskMap,currentlySelectedDbs:e.preSelectedDbs||[]},(function(){t.handleDatabaseSelectionChanged(t.state.currentlySelectedDbs),t.handleFirstSelectionDB(),t.setBlastMethods()})),e.query&&this.query.current.value(e.query),setTimeout((function(){t.preselectDatabases(t.state.preSelectedDbs)}),0),setTimeout((function(){Se(".jstree_div").click()}),1e3)}.bind(this)),Se(document).on("keydown",(function(e){var t=Se("#method");!t.is(":disabled")&&e.ctrlKey&&"Enter"===e.key&&t.trigger("click")}))}},{key:"handleFirstSelectionDB",value:function(){var e=null!=this.state.preSelectedDbs?this.state.preSelectedDbs[0].type:null;e&&this.handleDatabaseTypeChanged(e)}},{key:"setBlastMethods",value:function(){var e=this.determineBlastMethods();e.length>0&&this.setState({blastMethod:e[0]})}},{key:"preselectDatabases",value:function(e){var t=this;e&&e.forEach((function(e){var n=t.formRef.current.querySelector('input.checkbox-database[value="'.concat(e.id,'"]'));n&&(n.click(),n.checked=!0)}))}},{key:"useTreeWidget",value:function(){return!i.Ay.isEmpty(this.state.tree)}},{key:"handleFormSubmission",value:function(e){e.preventDefault();var t=this.formRef.current;document.getElementById("overlay").style.display="block";var n=new FormData(t);n.append("method",this.button.current.state.methods[0]),fetch(window.location.href,{method:"POST",body:n}).then((function(e){document.getElementById("overlay").style.display="none",e.redirected&&e.url&&setTimeout((function(){window.open(e.url,Se("#toggleNewTab").is(":checked")?"_blank":"_self")}),0)}))}},{key:"determineBlastMethods",value:function(){var e=this.databaseType,t=this.sequenceType;if(this.query.current.isEmpty())return[];switch(e){case"protein":switch(t){case void 0:return["blastp","blastx"];case"protein":return["blastp"];case"nucleotide":return["blastx"]}break;case"nucleotide":switch(t){case void 0:return["tblastn","blastn","tblastx"];case"protein":return["tblastn"];case"nucleotide":return["blastn","tblastx"]}}return[]}},{key:"handleSequenceChanged",value:function(e){e!==this.state.residuesInQuerySequence&&this.setState({residuesInQuerySequence:e})}},{key:"handleSequenceTypeChanged",value:function(e){this.sequenceType=e,this.setButtonState()}},{key:"handleDatabaseTypeChanged",value:function(e){this.databaseType=e,this.setButtonState()}},{key:"setButtonState",value:function(){this.button.current.setState({hasQuery:!this.query.current.isEmpty(),hasDatabases:!!this.databaseType,methods:this.determineBlastMethods()})}},{key:"handleDatabaseSelectionChanged",value:function(e){i.Ay.isEqual(e,this.state.currentlySelectedDbs)||this.setState({currentlySelectedDbs:e})}},{key:"handleAlgoChanged",value:function(e){e in this.state.preDefinedOpts?this.setState({blastMethod:e}):this.setState({blastMethod:""})}},{key:"residuesInSelectedDbs",value:function(){return this.state.currentlySelectedDbs.reduce((function(e,t){return e+parseInt(t.ncharacters,10)}),0)}},{key:"render",value:function(){return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{id:"overlay",style:{position:"absolute",top:0,left:0,width:"100vw",height:"100vw",background:"rgba(0, 0, 0, 0.2)",display:"none",zIndex:99}}),(0,o.jsxs)("div",{className:"fixed top-0 left-0 w-full max-h-8 px-8","data-notifications":!0,id:"notifications",children:[(0,o.jsx)(Ie,{}),(0,o.jsx)(Ne,{}),(0,o.jsx)(Re,{}),(0,o.jsx)(Me,{})]}),(0,o.jsxs)("form",{id:"blast",ref:this.formRef,onSubmit:this.handleFormSubmission,children:[(0,o.jsx)("input",{type:"hidden",name:"_csrf",value:document.querySelector('meta[name="_csrf"]').content}),(0,o.jsxs)("div",{className:"px-4",children:[(0,o.jsx)(re,{ref:this.query,onSequenceTypeChanged:this.handleSequenceTypeChanged,onSequenceChanged:this.handleSequenceChanged}),this.useTreeWidget()?(0,o.jsx)(r.Suspense,{fallback:(0,o.jsx)("div",{children:"Loading..."}),children:(0,o.jsx)(Be,{databases:this.state.databases,tree:this.state.tree,preSelectedDbs:this.state.preSelectedDbs,onDatabaseTypeChanged:this.handleDatabaseTypeChanged,onDatabaseSelectionChanged:this.handleDatabaseSelectionChanged})}):(0,o.jsx)(r.Suspense,{fallback:(0,o.jsx)("div",{children:"Loading..."}),children:(0,o.jsx)(Ae,{databases:this.state.databases,preSelectedDbs:this.state.preSelectedDbs,onDatabaseTypeChanged:this.handleDatabaseTypeChanged,onDatabaseSelectionChanged:this.handleDatabaseSelectionChanged})}),(0,o.jsx)(he,{blastMethod:this.state.blastMethod,predefinedOptions:this.state.preDefinedOpts[this.state.blastMethod]||{},blastTasks:(this.state.blastTaskMap||{})[this.state.blastMethod]})]}),(0,o.jsx)("div",{className:"py-6"})," ",(0,o.jsxs)("div",{className:"pb-4 pt-2 px-4 sticky bottom-0 md:flex flex-row md:space-x-4 items-center justify-end bg-gradient-to-t to-gray-100/90 from-white/90",children:[(0,o.jsx)(xe,{residuesInQuerySequence:this.state.residuesInQuerySequence,numberOfDatabasesSelected:this.state.currentlySelectedDbs.length,residuesInSelectedDbs:this.residuesInSelectedDbs(),currentBlastMethod:this.state.blastMethod}),(0,o.jsxs)("label",{className:"text-seqblue hover:seqorange cursor-pointer block my-4 md:my-2",children:[(0,o.jsx)("input",{type:"checkbox",id:"toggleNewTab"})," Open results in new tab"]}),(0,o.jsx)(m,{ref:this.button,onAlgoChanged:this.handleAlgoChanged})]})]})]})}}])}(r.Component),Re=function(e){function t(){return ke(this,t),qe(this,t,arguments)}return Pe(t,e),je(t,[{key:"render",value:function(){return(0,o.jsx)("div",{"data-role":"notification",id:"protein-sequence-notification",style:{display:"none"},children:(0,o.jsx)("div",{className:"bg-blue-100 border rounded border-blue-800 px-4 py-2 my-2",children:"Detected: amino-acid sequence(s)."})})}}])}(r.Component),Ne=function(e){function t(){return ke(this,t),qe(this,t,arguments)}return Pe(t,e),je(t,[{key:"render",value:function(){return(0,o.jsx)("div",{"data-role":"notification",id:"nucleotide-sequence-notification",style:{display:"none"},children:(0,o.jsx)("div",{className:"bg-blue-100 border rounded border-blue-800 px-4 py-2 my-2",children:"Detected: nucleotide sequence(s)."})})}}])}(r.Component),Ie=function(e){function t(){return ke(this,t),qe(this,t,arguments)}return Pe(t,e),je(t,[{key:"render",value:function(){return(0,o.jsx)("div",{"data-role":"notification",id:"fastq-sequence-notification",style:{display:"none"},children:(0,o.jsx)("div",{className:"bg-blue-100 border rounded border-blue-800 px-4 py-2 my-2",children:"Detected FASTQ and automatically converted to FASTA."})})}}])}(r.Component),Me=function(e){function t(){return ke(this,t),qe(this,t,arguments)}return Pe(t,e),je(t,[{key:"render",value:function(){return(0,o.jsx)("div",{"data-role":"notification",id:"mixed-sequence-notification",style:{display:"none"},children:(0,o.jsx)("div",{className:"alert-danger col-md-10 col-md-offset-1",children:"Error: mixed nucleotide and amino-acid sequences detected."})})}}])}(r.Component)},7917:(e,t,n)=>{n.r(t);var r,a=n(4692),i=n.n(a),o=(n(9660),n(4692));n.g.$=i(),(r=o).fn.disable=function(){return this.prop("disabled",!0).addClass("disabled")},r.fn.enable=function(){return this.prop("disabled",!1).removeClass("disabled")},r.fn.check=function(){return this.prop("checked",!0)},r.fn.uncheck=function(){return this.prop("checked",!1)},r(document).tooltip({position:{my:"center bottom-20",at:"center top",using:function(e,t){r(this).css(e),r("<div>").addClass("arrow").addClass(t.vertical).addClass(t.horizontal).appendTo(this)}},items:"rect, .tooltip-item",show:!1,hide:!1,content:function(){var e=r(this).attr("title");return!!e&&r.parseHTML(e)}}),r.modalActive=function(){var e=!1;return r(".modal").each((function(){var t=r(this).data("bs.modal");if(t)return!(e=t.isShown)})),e},r.fn.wiggle=function(){this.finish().effect("bounce",{direction:"left",distance:24,times:4},250)}},756:(e,t,n)=>{n.r(t),n.d(t,{Adder:()=>r.ph,Delaunay:()=>u.w,FormatSpecifier:()=>y.ST,InternMap:()=>r.Bu,InternSet:()=>r.vo,Node:()=>g.bP,Path:()=>x.wA,Voronoi:()=>u.l,ZoomTransform:()=>A.uV,active:()=>D.vu,arc:()=>q.JL,area:()=>q.Wc,areaRadial:()=>q.Ps,ascending:()=>r.V_,autoType:()=>h.cG,axisBottom:()=>a.l7,axisLeft:()=>a.V4,axisRight:()=>a.eH,axisTop:()=>a.tl,bin:()=>r.e5,bisect:()=>r.h1,bisectCenter:()=>r.WD,bisectLeft:()=>r.ah,bisectRight:()=>r.Jj,bisector:()=>r.yl,blob:()=>f.av,blur:()=>r.Ge,blur2:()=>r.WN,blurImage:()=>r.BU,brush:()=>i.V$,brushSelection:()=>i.ZR,brushX:()=>i.n5,brushY:()=>i.g2,buffer:()=>f.r,chord:()=>o.JQ,chordDirected:()=>o.BQ,chordTranspose:()=>o.kb,cluster:()=>g.bz,color:()=>s.yW,contourDensity:()=>l.f,contours:()=>l.m,count:()=>r.U9,create:()=>O.vt,creator:()=>O.xL,cross:()=>r.$A,csv:()=>f.fu,csvFormat:()=>h.e2,csvFormatBody:()=>h.Un,csvFormatRow:()=>h.oz,csvFormatRows:()=>h.hG,csvFormatValue:()=>h.zB,csvParse:()=>h.sw,csvParseRows:()=>h.fy,cubehelix:()=>s.UB,cumsum:()=>r.rC,curveBasis:()=>q.qr,curveBasisClosed:()=>q.Yu,curveBasisOpen:()=>q.IA,curveBumpX:()=>q.Wi,curveBumpY:()=>q.PG,curveBundle:()=>q.OE,curveCardinal:()=>q.y8,curveCardinalClosed:()=>q.ol,curveCardinalOpen:()=>q.Ir,curveCatmullRom:()=>q.oD,curveCatmullRomClosed:()=>q.Q7,curveCatmullRomOpen:()=>q.cV,curveLinear:()=>q.lU,curveLinearClosed:()=>q.Lx,curveMonotoneX:()=>q.nV,curveMonotoneY:()=>q.ux,curveNatural:()=>q.Xf,curveStep:()=>q.GZ,curveStepAfter:()=>q.UP,curveStepBefore:()=>q.dy,descending:()=>r.rG,deviation:()=>r.KS,difference:()=>r.iv,disjoint:()=>r.nf,dispatch:()=>c.J,drag:()=>d.$E,dragDisable:()=>d.XD,dragEnable:()=>d.EH,dsv:()=>f.S$,dsvFormat:()=>h.Fg,easeBack:()=>p.Ib,easeBackIn:()=>p.ro,easeBackInOut:()=>p.Z8,easeBackOut:()=>p.g9,easeBounce:()=>p.r_,easeBounceIn:()=>p.Su,easeBounceInOut:()=>p.g$,easeBounceOut:()=>p.JK,easeCircle:()=>p.LO,easeCircleIn:()=>p.W2,easeCircleInOut:()=>p.Cg,easeCircleOut:()=>p.jt,easeCubic:()=>p.z6,easeCubicIn:()=>p.M1,easeCubicInOut:()=>p.oR,easeCubicOut:()=>p.TD,easeElastic:()=>p._9,easeElasticIn:()=>p.rh,easeElasticInOut:()=>p.D6,easeElasticOut:()=>p.gu,easeExp:()=>p.IO,easeExpIn:()=>p.vH,easeExpInOut:()=>p.rS,easeExpOut:()=>p.GD,easeLinear:()=>p.yf,easePoly:()=>p.Xv,easePolyIn:()=>p.Ol,easePolyInOut:()=>p.mx,easePolyOut:()=>p.nW,easeQuad:()=>p.I1,easeQuadIn:()=>p.$S,easeQuadInOut:()=>p.xA,easeQuadOut:()=>p.gH,easeSin:()=>p.pd,easeSinIn:()=>p.YX,easeSinInOut:()=>p.Ce,easeSinOut:()=>p.tU,every:()=>r.Si,extent:()=>r.Xx,fcumsum:()=>r.Nn,filter:()=>r.pb,flatGroup:()=>r.n3,flatRollup:()=>r.GG,forceCenter:()=>m.jT,forceCollide:()=>m.eR,forceLink:()=>m.kJ,forceManyBody:()=>m.xJ,forceRadial:()=>m.pP,forceSimulation:()=>m.tX,forceX:()=>m.KS,forceY:()=>m.TS,format:()=>y.GP,formatDefaultLocale:()=>y.hQ,formatLocale:()=>y.OE,formatPrefix:()=>y.s,formatSpecifier:()=>y.Gp,fsum:()=>r.rv,geoAlbers:()=>b.pK,geoAlbersUsa:()=>b.Ut,geoArea:()=>b.Vj,geoAzimuthalEqualArea:()=>b.Oc,geoAzimuthalEqualAreaRaw:()=>b.qz,geoAzimuthalEquidistant:()=>b.AN,geoAzimuthalEquidistantRaw:()=>b.SV,geoBounds:()=>b.fo,geoCentroid:()=>b.Ew,geoCircle:()=>b.Ob,geoClipAntimeridian:()=>b.Nl,geoClipCircle:()=>b.cj,geoClipExtent:()=>b.w9,geoClipRectangle:()=>b.tq,geoConicConformal:()=>b.xK,geoConicConformalRaw:()=>b.dO,geoConicEqualArea:()=>b.Pq,geoConicEqualAreaRaw:()=>b.zy,geoConicEquidistant:()=>b.PS,geoConicEquidistantRaw:()=>b.p7,geoContains:()=>b.Vf,geoDistance:()=>b.Je,geoEqualEarth:()=>b.om,geoEqualEarthRaw:()=>b.S0,geoEquirectangular:()=>b.uV,geoEquirectangularRaw:()=>b.GA,geoGnomonic:()=>b.c6,geoGnomonicRaw:()=>b.IN,geoGraticule:()=>b.kG,geoGraticule10:()=>b.DS,geoIdentity:()=>b.qS,geoInterpolate:()=>b.vD,geoLength:()=>b.u9,geoMercator:()=>b.bA,geoMercatorRaw:()=>b.jw,geoNaturalEarth1:()=>b.wx,geoNaturalEarth1Raw:()=>b.MA,geoOrthographic:()=>b.WK,geoOrthographicRaw:()=>b.mn,geoPath:()=>b.zF,geoProjection:()=>b.Xo,geoProjectionMutator:()=>b.r2,geoRotation:()=>b.uY,geoStereographic:()=>b.c8,geoStereographicRaw:()=>b.cX,geoStream:()=>b.wC,geoTransform:()=>b.wu,geoTransverseMercator:()=>b.M5,geoTransverseMercatorRaw:()=>b.Kx,gray:()=>s.wm,greatest:()=>r.Kf,greatestIndex:()=>r.GD,group:()=>r.Os,groupSort:()=>r._w,groups:()=>r.TN,hcl:()=>s.aq,hierarchy:()=>g.Sk,histogram:()=>r.JW,hsl:()=>s.KI,html:()=>f.qy,image:()=>f.Sl,index:()=>r.Pe,indexes:()=>r.DU,interpolate:()=>v.GW,interpolateArray:()=>v.p0,interpolateBasis:()=>v.Qm,interpolateBasisClosed:()=>v.I_,interpolateBlues:()=>j.dM,interpolateBrBG:()=>j.ND,interpolateBuGn:()=>j.mu,interpolateBuPu:()=>j.QU,interpolateCividis:()=>j.Pi,interpolateCool:()=>j.tG,interpolateCubehelix:()=>v.p5,interpolateCubehelixDefault:()=>j.SU,interpolateCubehelixLong:()=>v.Xl,interpolateDate:()=>v._8,interpolateDiscrete:()=>v.xh,interpolateGnBu:()=>j._C,interpolateGreens:()=>j.Yv,interpolateGreys:()=>j.q8,interpolateHcl:()=>v.bE,interpolateHclLong:()=>v.v1,interpolateHsl:()=>v.r_,interpolateHslLong:()=>v.x6,interpolateHue:()=>v.SH,interpolateInferno:()=>j.Fb,interpolateLab:()=>v.dJ,interpolateMagma:()=>j.nJ,interpolateNumber:()=>v.Dj,interpolateNumberArray:()=>v.KV,interpolateObject:()=>v.hf,interpolateOrRd:()=>j.V7,interpolateOranges:()=>j.TE,interpolatePRGn:()=>j.tB,interpolatePiYG:()=>j.jq,interpolatePlasma:()=>j.UA,interpolatePuBu:()=>j.Eg,interpolatePuBuGn:()=>j.DK,interpolatePuOr:()=>j.QS,interpolatePuRd:()=>j.NM,interpolatePurples:()=>j.dn,interpolateRainbow:()=>j.SV,interpolateRdBu:()=>j.Tw,interpolateRdGy:()=>j.yR,interpolateRdPu:()=>j.bD,interpolateRdYlBu:()=>j.c_,interpolateRdYlGn:()=>j.qJ,interpolateReds:()=>j.Q3,interpolateRgb:()=>v.Zr,interpolateRgbBasis:()=>v.z4,interpolateRgbBasisClosed:()=>v.Li,interpolateRound:()=>v.sH,interpolateSinebow:()=>j.jy,interpolateSpectral:()=>j.QL,interpolateString:()=>v.zl,interpolateTransformCss:()=>v.TE,interpolateTransformSvg:()=>v.pN,interpolateTurbo:()=>j.Ww,interpolateViridis:()=>j.GA,interpolateWarm:()=>j.Lx,interpolateYlGn:()=>j.o$,interpolateYlGnBu:()=>j.L9,interpolateYlOrBr:()=>j._Q,interpolateYlOrRd:()=>j.oK,interpolateZoom:()=>v.p7,interrupt:()=>D.G,intersection:()=>r.E$,interval:()=>P.YP,isoFormat:()=>T.VC,isoParse:()=>T.R8,json:()=>f.Pq,lab:()=>s.Mj,lch:()=>s.s1,least:()=>r.YG,leastIndex:()=>r.ko,line:()=>q.n8,lineRadial:()=>q.y6,link:()=>q.nf,linkHorizontal:()=>q.pq,linkRadial:()=>q.e7,linkVertical:()=>q.vu,local:()=>O.sr,map:()=>r.Tj,matcher:()=>O.jN,max:()=>r.T9,maxIndex:()=>r.P2,mean:()=>r.i2,median:()=>r.JZ,medianIndex:()=>r.TF,merge:()=>r.Am,min:()=>r.jk,minIndex:()=>r.z9,mode:()=>r.Mq,namespace:()=>O.MF,namespaces:()=>O.r$,nice:()=>r.Cm,now:()=>P.tB,pack:()=>g.qq,packEnclose:()=>g.nT,packSiblings:()=>g.Zz,pairs:()=>r.AS,partition:()=>g.jB,path:()=>x.Ae,pathRound:()=>x.uj,permute:()=>r.Ny,pie:()=>q.rL,piecewise:()=>v.$B,pointRadial:()=>q.b,pointer:()=>O.Wn,pointers:()=>O.D_,polygonArea:()=>S.Ab,polygonCentroid:()=>S.l8,polygonContains:()=>S.G2,polygonHull:()=>S.Cx,polygonLength:()=>S.J4,precisionFixed:()=>y.RT,precisionPrefix:()=>y.dT,precisionRound:()=>y.Pj,quadtree:()=>w.M,quantile:()=>r.YV,quantileIndex:()=>r.AX,quantileSorted:()=>r.Z4,quantize:()=>v.yd,quickselect:()=>r.eu,radialArea:()=>q.hh,radialLine:()=>q.Y$,randomBates:()=>k.FQ,randomBernoulli:()=>k.UE,randomBeta:()=>k.qi,randomBinomial:()=>k.z6,randomCauchy:()=>k.FU,randomExponential:()=>k.BO,randomGamma:()=>k.pR,randomGeometric:()=>k.R7,randomInt:()=>k.HO,randomIrwinHall:()=>k.yT,randomLcg:()=>k.Ix,randomLogNormal:()=>k.Rb,randomLogistic:()=>k.En,randomNormal:()=>k.FE,randomPareto:()=>k.zZ,randomPoisson:()=>k.lA,randomUniform:()=>k.Ye,randomWeibull:()=>k.kL,range:()=>r.y1,rank:()=>r.Tm,reduce:()=>r.TS,reverse:()=>r.BE,rgb:()=>s.Qh,ribbon:()=>o.F6,ribbonArrow:()=>o.Y_,rollup:()=>r.z,rollups:()=>r.i8,scaleBand:()=>_.WH,scaleDiverging:()=>_.Mb,scaleDivergingLog:()=>_.Cr,scaleDivergingPow:()=>_.yj,scaleDivergingSqrt:()=>_.q9,scaleDivergingSymlog:()=>_.xh,scaleIdentity:()=>_.jo,scaleImplicit:()=>_.U4,scaleLinear:()=>_.m4,scaleLog:()=>_.ZE,scaleOrdinal:()=>_.UM,scalePoint:()=>_.hq,scalePow:()=>_.RW,scaleQuantile:()=>_.QL,scaleQuantize:()=>_.WT,scaleRadial:()=>_.af,scaleSequential:()=>_.ex,scaleSequentialLog:()=>_.M3,scaleSequentialPow:()=>_.ui,scaleSequentialQuantile:()=>_.T,scaleSequentialSqrt:()=>_.ye,scaleSequentialSymlog:()=>_.nV,scaleSqrt:()=>_.Bv,scaleSymlog:()=>_.aX,scaleThreshold:()=>_.c3,scaleTime:()=>_.w7,scaleUtc:()=>_.Pp,scan:()=>r.SQ,schemeAccent:()=>j._u,schemeBlues:()=>j.Hu,schemeBrBG:()=>j.HZ,schemeBuGn:()=>j.g4,schemeBuPu:()=>j.iW,schemeCategory10:()=>j.t5,schemeDark2:()=>j.Hf,schemeGnBu:()=>j.Wb,schemeGreens:()=>j.Cx,schemeGreys:()=>j.MS,schemeObservable10:()=>j.gm,schemeOrRd:()=>j.jl,schemeOranges:()=>j.dw,schemePRGn:()=>j.j9,schemePaired:()=>j.vU,schemePastel1:()=>j.kG,schemePastel2:()=>j.ri,schemePiYG:()=>j.ZO,schemePuBu:()=>j.Gw,schemePuBuGn:()=>j.Vm,schemePuOr:()=>j.OK,schemePuRd:()=>j.lt,schemePurples:()=>j.xA,schemeRdBu:()=>j.pC,schemeRdGy:()=>j.Wu,schemeRdPu:()=>j.HS,schemeRdYlBu:()=>j.OY,schemeRdYlGn:()=>j.mC,schemeReds:()=>j.Uo,schemeSet1:()=>j.Dv,schemeSet2:()=>j.Ks,schemeSet3:()=>j.DQ,schemeSpectral:()=>j.iZ,schemeTableau10:()=>j.zt,schemeYlGn:()=>j.QE,schemeYlGnBu:()=>j.r2,schemeYlOrBr:()=>j.yn,schemeYlOrRd:()=>j.Mh,select:()=>O.Lt,selectAll:()=>O.Ub,selection:()=>O.r1,selector:()=>O.gD,selectorAll:()=>O.XM,shuffle:()=>r.k4,shuffler:()=>r.kt,some:()=>r.zN,sort:()=>r.di,stack:()=>q.t$,stackOffsetDiverging:()=>q.lB,stackOffsetExpand:()=>q.qI,stackOffsetNone:()=>q.YW,stackOffsetSilhouette:()=>q.e9,stackOffsetWiggle:()=>q.Re,stackOrderAppearance:()=>q.DY,stackOrderAscending:()=>q.BI,stackOrderDescending:()=>q.ve,stackOrderInsideOut:()=>q.$k,stackOrderNone:()=>q.rM,stackOrderReverse:()=>q.xU,stratify:()=>g.zT,style:()=>O.iF,subset:()=>r.LE,sum:()=>r.cz,superset:()=>r.W_,svg:()=>f.JW,symbol:()=>q.HR,symbolAsterisk:()=>q.$Z,symbolCircle:()=>q.hK,symbolCross:()=>q.BV,symbolDiamond:()=>q.j,symbolDiamond2:()=>q.zy,symbolPlus:()=>q.jh,symbolSquare:()=>q.yD,symbolSquare2:()=>q.sL,symbolStar:()=>q.N8,symbolTimes:()=>q.zp,symbolTriangle:()=>q.ZK,symbolTriangle2:()=>q.L1,symbolWye:()=>q.IJ,symbolX:()=>q.Bj,symbols:()=>q.Iq,symbolsFill:()=>q.Lk,symbolsStroke:()=>q.AM,text:()=>f.Qq,thresholdFreedmanDiaconis:()=>r.c3,thresholdScott:()=>r.Ft,thresholdSturges:()=>r.zr,tickFormat:()=>_.Vr,tickIncrement:()=>r.lq,tickStep:()=>r.sG,ticks:()=>r.Zc,timeDay:()=>C.UA,timeDays:()=>C.NT,timeFormat:()=>T.DC,timeFormatDefaultLocale:()=>T.cA,timeFormatLocale:()=>T.de,timeFriday:()=>C.TU,timeFridays:()=>C.SQ,timeHour:()=>C.Ag,timeHours:()=>C.L6,timeInterval:()=>C.f$,timeMillisecond:()=>C.t6,timeMilliseconds:()=>C.Sp,timeMinute:()=>C.wX,timeMinutes:()=>C.rn,timeMonday:()=>C.AB,timeMondays:()=>C.h8,timeMonth:()=>C.Ui,timeMonths:()=>C.Bz,timeParse:()=>T.T6,timeSaturday:()=>C.rG,timeSaturdays:()=>C._M,timeSecond:()=>C.uc,timeSeconds:()=>C.DL,timeSunday:()=>C.YP,timeSundays:()=>C.vD,timeThursday:()=>C.Mo,timeThursdays:()=>C.HU,timeTickInterval:()=>C.yE,timeTicks:()=>C.Cf,timeTuesday:()=>C.PG,timeTuesdays:()=>C.OK,timeWednesday:()=>C.Gu,timeWednesdays:()=>C.Dr,timeWeek:()=>C.Kg,timeWeeks:()=>C.TX,timeYear:()=>C.he,timeYears:()=>C.Yo,timeout:()=>P.wR,timer:()=>P.O1,timerFlush:()=>P.O2,transition:()=>D.kY,transpose:()=>r.mg,tree:()=>g.B2,treemap:()=>g.hk,treemapBinary:()=>g.G,treemapDice:()=>g.iL,treemapResquarify:()=>g.gg,treemapSlice:()=>g.Xv,treemapSliceDice:()=>g.Yi,treemapSquarify:()=>g.bC,tsv:()=>f.KZ,tsvFormat:()=>h.Nc,tsvFormatBody:()=>h.F2,tsvFormatRow:()=>h.pn,tsvFormatRows:()=>h.KS,tsvFormatValue:()=>h.CL,tsvParse:()=>h.Nu,tsvParseRows:()=>h.cP,union:()=>r.KC,unixDay:()=>C.TW,unixDays:()=>C.fh,utcDay:()=>C.dA,utcDays:()=>C.ou,utcFormat:()=>T.aL,utcFriday:()=>C.a1,utcFridays:()=>C.Zn,utcHour:()=>C.pz,utcHours:()=>C.iA,utcMillisecond:()=>C.Ee,utcMilliseconds:()=>C.Lg,utcMinute:()=>C.O0,utcMinutes:()=>C.Y4,utcMonday:()=>C.rt,utcMondays:()=>C.ON,utcMonth:()=>C.R6,utcMonths:()=>C.oi,utcParse:()=>T.GY,utcSaturday:()=>C.c8,utcSaturdays:()=>C.Xo,utcSecond:()=>C.Hn,utcSeconds:()=>C.kk,utcSunday:()=>C.Hl,utcSundays:()=>C.aZ,utcThursday:()=>C.pT,utcThursdays:()=>C.wr,utcTickInterval:()=>C.lk,utcTicks:()=>C.$Z,utcTuesday:()=>C.sr,utcTuesdays:()=>C.jN,utcWednesday:()=>C.z2,utcWednesdays:()=>C.G6,utcWeek:()=>C.zX,utcWeeks:()=>C.y9,utcYear:()=>C.Mb,utcYears:()=>C.jH,variance:()=>r.GV,window:()=>O.x,xml:()=>f._n,zip:()=>r.yU,zoom:()=>A.s_,zoomIdentity:()=>A.GS,zoomTransform:()=>A._V});var r=n(285),a=n(2782),i=n(8217),o=n(2944),s=n(2090),l=n(7125),u=n(1706),c=n(9167),d=n(907),h=n(3093),p=n(1879),f=n(2058),m=n(7047),y=n(4710),b=n(8915),g=n(3188),v=n(491),x=n(66),S=n(8258),w=n(7686),k=n(5404),_=n(6199),j=n(7634),O=n(9062),q=n(4924),C=n(2472),T=n(8776),P=n(9345),D=n(6725),A=n(5949)},6210:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(3681),a=(0,r.mixin)(r);a._=a;const i=a}}]);
//# sourceMappingURL=form.js.map