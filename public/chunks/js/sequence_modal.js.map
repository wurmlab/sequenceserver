{"version":3,"file":"chunks/js/sequence_modal.js","mappings":"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","sources":["webpack://SequenceServer/./public/js/utils/sequence.utils.js","webpack://SequenceServer/./public/js/components/modal/sequence_modal.js","webpack://SequenceServer/./node_modules/underscore/modules/index-default.js"],"sourcesContent":["import $ from 'jquery';\n\nrequire = (function e(t, n, r) { function s(o, u) { if (!n[o]) { if (!t[o]) { var a = typeof require == 'function' && require; if (!u && a) return a(o, !0); if (i) return i(o, !0); var f = new Error('Cannot find module \\'' + o + '\\''); throw f.code = 'MODULE_NOT_FOUND', f; } var l = n[o] = { exports: {} }; t[o][0].call(l.exports, function (e) { var n = t[o][1][e]; return s(n ? n : e); }, l, l.exports, e, t, n, r); } return n[o].exports; } var i = typeof require == 'function' && require; for (var o = 0; o < r.length; o++)s(r[o]); return s; })({\n    1: [function (require, module, exports) {\n    // legacy!!\n        $.browser = require('jquery-browser-plugin');\n\n        /**\n     * THIS FILE HAS BEEN MODIFIED FROM THE ORIGINAL\n     * (https://github.com/ljgarcia/biojs-vis-sequence/blob/master/lib/index.js).\n     *\n     * Sequence component\n     *\n     * @class\n     * @extends Biojs\n     *\n     * @author <a href=\"mailto:johncar@gmail.com\">John Gomez</a>, <a href=\"mailto:secevalliv@gmail.com\">Jose Villaveces</a>\n     * @version 1.0.0\n     * @category 3\n     *\n     * @requires <a href='http://blog.jquery.com/2011/09/12/jquery-1-6-4-released/'>jQuery Core 1.6.4</a>\n     * @dependency <script language=\"JavaScript\" type=\"text/javascript\" src=\"../biojs/dependencies/jquery/jquery-1.4.2.min.js\"></script>\n     *\n     * @requires <a href='http://jqueryui.com/download'>jQuery UI 1.8.16</a>\n     * @dependency <script language=\"JavaScript\" type=\"text/javascript\" src=\"../biojs/dependencies/jquery/jquery-ui-1.8.2.custom.min.js\"></script>\n     *\n     * @requires <a href='Biojs.Tooltip.css'>Biojs.Tooltip</a>\n     * @dependency <script language=\"JavaScript\" type=\"text/javascript\" src=\"src/Biojs.Tooltip.js\"></script>\n     *\n     * @param {Object} options An object with the options for Sequence component.\n     *\n     * @option {string} target\n     *    Identifier of the DIV tag where the component should be displayed.\n     *\n     * @option {string} sequence\n     *    The sequence to be displayed.\n     *\n     * @option {string} [id]\n     *    Sequence identifier if apply.\n     *\n     * @option {string} [format=\"FASTA\"]\n     *    The display format for the sequence representation.\n     *\n     * @option {Object[]} [highlights]\n     * \t  For highlighting multiple regions.\n     *    <pre class=\"brush: js\" title=\"Syntax:\">\n     *    [\n     *    \t// Highlight aminoacids from 'start' to 'end' of the current strand using the specified 'color' (optional) and 'background' (optional).\n     *    \t{ start: &lt;startVal1&gt;, end: &lt;endVal1&gt; [, id:&lt;idVal1&gt;] [, color: &lt;HTMLColor&gt;] [, background: &lt;HTMLColor&gt;]},\n     *    \t//\n     *    \t// Any others highlights\n     *    \t...,\n     *    \t//\n     *    \t{ start: &lt;startValN&gt;, end: &lt;endValN&gt; [, id:&lt;idValN&gt;] [, color: &lt;HTMLColor&gt;] [, background: &lt;HTMLColor&gt;]}\n     *    ]</pre>\n     *\n     * <pre class=\"brush: js\" title=\"Example:\">\n     * highlights : [\n     * \t\t{ start:30, end:42, color:\"white\", background:\"green\", id:\"spin1\" },\n     *\t\t{ start:139, end:140 },\n     *\t\t{ start:631, end:633, color:\"white\", background:\"blue\" }\n     *\t]\n     * </pre>\n     *\n     * @option {Object} [columns={size:40,spacedEach:10}]\n     * \t  Options for displaying the columns. Syntax: { size: &lt;numCols&gt;, spacedEach: &lt;numCols&gt;}\n     *\n     * @option {Object} [selection]\n     * \t  Positions for the current selected region. Syntax: { start: &lt;startValue&gt;, end: &lt;endValue&gt;}\n     *\n     * @option {Object[]} [annotations]\n     *    Set of overlapping annotations. Must be an array of objects following the syntax:\n     *     \t\t<pre class=\"brush: js\" title=\"Syntax:\">\n     *            [\n     *              // An annotation:\n     *              { name: &lt;name&gt;,\n     *                html: &lt;message&gt;,\n     *                color: &lt;color_code&gt;,\n     *                regions: [{ start: &lt;startVal1&gt;, end: &lt;endVal1&gt; color: &lt;HTMLColor&gt;}, ...,{ start: &lt;startValN&gt;, end: &lt;endValN&gt;, color: &lt;HTMLColor&gt;}]\n     *              },\n     *\n     *              // ...\n     *              // more annotations here\n     *              // ...\n     *            ]\n     *    \t\t </pre>\n     *    where:\n     *      <ul>\n     *        <li><b>name</b> is the unique name for the annotation</li>\n     *        <li><b>html</b> is the message (can be HTML) to be displayed in the tool tip.</li>\n     *        <li><b>color</b> is the default HTML color code for all the regions.</li>\n     *        <li><b>regions</b> array of objects defining the intervals which belongs to the annotation.</li>\n     *        <li><b>regions[i].start</b> is the starting character for the i-th interval.</li>\n     *        <li><b>regions[i].end</b> is the ending character for the i-th interval.</li>\n     *        <li><b>regions[i].color</b> is an optional color for the i-th interval.\n     *      </ul>\n     *\n     * @option {Object} [formatOptions={title:true, footer:true}]\n     * \t  Options for displaying the title. by now just affecting the CODATA format.\n     *    <pre class=\"brush: js\" title=\"Syntax:\">\n     * \t\tformatOptions : {\n     * \t\t\ttitle:false,\n     * \t\t\tfooter:false\n     * \t\t}\n     *    </pre>\n     *\n     * @example\n     * var theSequence = \"METLCQRLNVCQDKILTHYENDSTDLRDHIDYWKHMRLECAIYYKAREMGFKHINHQVVPTLAVSKNKALQAIELQLTLETIYNSQYSNEKWTLQDVSLEVYLTAPTGCIKKHGYTVEVQFDGDICNTMHYTNWTHIYICEEAojs SVTVVEGQVDYYGLYYVHEGIRTYFVQFKDDAEKYSKNKVWEVHAGGQVILCPTSVFSSNEVSSPEIIRQHLANHPAATHTKAVALGTEETQTTIQRPRSEPDTGNPCHTTKLLHRDSVDSAPILTAFNSSHKGRINCNSNTTPIVHLKGDANTLKCLRYRFKKHCTLYTAVSSTWHWTGHNVKHKSAIVTLTYDSEWQRDQFLSQVKIPKTITVSTGFMSI\";\n     * var mySequence = new Sequence({\n     * \t\tsequence : theSequence,\n     * \t\ttarget : \"YourOwnDivId\",\n     * \t\tformat : 'CODATA',\n     * \t\tid : 'P918283',\n     * \t\tannotations: [\n     *        { name:\"CATH\",\n     * \t  \t\tcolor:\"#F0F020\",\n     * \t  \t\thtml: \"Using color code #F0F020 \",\n     * \t  \t\tregions: [{start: 122, end: 135}]\n     * \t\t  },\n     *        { name:\"TEST\",\n     *          html:\"&lt;br&gt; Example of &lt;b&gt;HTML&lt;/b&gt;\",\n     *          color:\"green\",\n     *          regions: [\n     *            {start: 285, end: 292},\n     *            {start: 293, end: 314, color: \"#2E4988\"}]\n     *        }\n     *      ],\n     *      highlights : [\n     *      \t{ start:30, end:42, color:\"white\", background:\"green\", id:\"spin1\" },\n     *      \t{ start:139, end:140 },\n     *      \t{ start:631, end:633, color:\"white\", background:\"blue\" }\n     *      ]\n     * });\n     *\n     */\n\n        var Class = require('js-class');\n\n        var EVT_ON_SELECTION_CHANGE = 'onSelectionChange';\n        var EVT_ON_SELECTION_CHANGED = 'onSelectionChanged';\n        var EVT_ON_ANNOTATION_CLICKED = 'onAnnotationClicked';\n\n        global.Sequence = Class(\n            /** @lends Sequence# */\n            {\n                constructor: function (options) {\n                    var self = this;\n\n                    this.opt = jQuery.extend(this.opt, options);\n\n                    this._container = jQuery(this.opt.target);\n\n                    // legacy support (target id without '#')\n                    if (this._container.length == 0) {\n                        this._container = jQuery('#' + this.opt.target);\n                    }\n\n                    if (this._container.length == 0) {\n                        console.log('empty target container');\n                    }\n\n                    // legacy: copy target id\n                    this.opt.target = this._container[0].id;\n\n                    // Lazy initialization\n                    this._container.ready(function () {\n                        this._ready = false;\n                        self._initialize();\n                    });\n                },\n\n                /**\n         * Default values for the options\n         * @name Sequence-opt\n         */\n                opt: {\n\n                    sequence: '',\n                    id: '',\n                    target: '',\n                    format: 'FASTA',\n                    selection: { start: 0, end: 0 },\n                    columns: { size: 35, spacedEach: 10 },\n                    highlights: [],\n                    annotations: [],\n                    sequenceUrl: 'http://www.ebi.ac.uk/das-srv/uniprot/das/uniprot/sequence',\n\n                    // Styles\n                    selectionColor: 'Yellow',\n                    selectionFontColor: 'black',\n                    highlightFontColor: 'red',\n                    highlightBackgroundColor: 'white',\n                    fontColor: 'inherit',\n                    backgroundColor: 'inherit',\n                    width: undefined,\n                    height: undefined,\n                    formatSelectorVisible: true\n                },\n\n                /**\n         * Array containing the supported event names\n         * @name Sequence-eventTypes\n         */\n                eventTypes: [\n                    /**\n           * @name Sequence#onSelectionChanged\n           * @event\n           * @param {function} actionPerformed An function which receives an {@link Biojs.Event} object as argument.\n           * @eventData {Object} source The component which did triggered the event.\n           * @eventData {string} type The name of the event.\n           * @eventData {int} start A number indicating the start of the selection.\n           * @eventData {int} end A number indicating the ending of selection.\n           * @example\n           * mySequence.onSelectionChanged(\n           *    function( objEvent ) {\n           *       alert(\"Selected: \" + objEvent.start + \", \" + objEvent.end );\n           *    }\n           * );\n           *\n           * */\n                    'onSelectionChanged',\n\n                    /**\n           * @name Sequence#onSelectionChange\n           * @event\n           * @param {function} actionPerformed An function which receives an {@link Biojs.Event} object as argument.\n           * @eventData {Object} source The component which did triggered the event.\n           * @eventData {string} type The name of the event.\n           * @eventData {int} start A number indicating the start of the selection.\n           * @eventData {int} end A number indicating the ending of selection.\n           * @example\n           * mySequence.onSelectionChange(\n           *    function( objEvent ) {\n           *       alert(\"Selection in progress: \" + objEvent.start + \", \" + objEvent.end );\n           *    }\n           * );\n           *\n           *\n           * */\n                    'onSelectionChange',\n\n                    /**\n           * @name Sequence#onAnnotationClicked\n           * @event\n           * @param {function} actionPerformed An function which receives an {@link Biojs.Event} object as argument.\n           * @eventData {Object} source The component which did triggered the event.\n           * @eventData {string} type The name of the event.\n           * @eventData {string} name The name of the selected annotation.\n           * @eventData {int} pos A number indicating the position of the selected amino acid.\n           * @example\n           * mySequence.onAnnotationClicked(\n           *    function( objEvent ) {\n           *       alert(\"Clicked \" + objEvent.name + \" on position \" + objEvent.pos );\n           *    }\n           * );\n           *\n           * */\n                    'onAnnotationClicked'\n                ],\n\n                getId: function () {\n                    return this.opt.id;\n                },\n\n                // internal members\n                _headerDiv: null,\n                _contentDiv: null,\n\n                // Methods\n\n                _initialize: function () {\n\n                    if (this.opt.width !== undefined) {\n                        this._container.width(this.opt.width);\n                    }\n\n                    if (this.opt.height !== undefined) {\n                        this._container.height(this.opt.height);\n                    }\n\n                    // DIV for the format selector\n                    this._buildFormatSelector();\n\n                    // DIV for the sequence\n                    this._contentDiv = jQuery('<div/>').appendTo(this._container);\n\n                    // Initialize highlighting\n                    this._highlights = this.opt.highlights;\n\n                    // Initialize annotations\n                    this._annotations = this.opt.annotations;\n\n                    //Initialize tooltip\n                    var tooltip = 'sequenceTip' + this.opt.target;\n                    jQuery('<div id=\"' + tooltip + '\"></div>')\n                        .appendTo('.fastan-content')\n                        .addClass('absolute top-0 left-0')\n                        .show()\n                    this.opt._tooltip = document.getElementById(tooltip);\n\n                    if ((this.opt.sequence)) {\n                        this._redraw();\n\n                    } else if ((this.opt.id)) {\n                        this._requestSequence(this.opt.id);\n\n                    } else {\n                        this.clearSequence('No sequence available', '../biojs/css/images/warning_icon.png');\n                    }\n\n                    this._ready = true;\n                },\n\n\n                /**\n         * Shows the columns indicated by the indexes array.\n         * @param {string} seq The sequence strand.\n         * @param {string} [identifier] Sequence identifier.\n         *\n         * @example\n         * mySequence.setSequence(\"P99999\");\n         *\n         */\n                setSequence: function (seq, identifier) {\n\n                    if (seq.match(/^([A-N,R-Z][0-9][A-Z][A-Z, 0-9][A-Z, 0-9][0-9])|([O,P,Q][0-9][A-Z, 0-9][A-Z, 0-9][A-Z, 0-9][0-9])(\\.\\d+)?$/i)) {\n                        this._requestSequence(arguments[0]);\n\n                    } else {\n                        this.opt.sequence = seq;\n                        this.opt.id = identifier;\n                        this._highlights = [];\n                        this._highlightsCount = 0;\n                        this.opt.selection = { start: 0, end: 0 };\n                        this._annotations = [];\n\n                        this._contentDiv.children().remove();\n                        this._redraw();\n                    }\n                },\n\n                _requestSequence: function (accession) {\n                    var self = this;\n\n                    console.log('Requesting sequence for: ' + accession);\n\n                    jQuery.ajax({\n                        url: self.opt.sequenceUrl,\n                        dataType: 'xml',\n                        data: { segment: accession }\n                    }).done(function(xml) {\n                        try {\n                            var sequenceNode = jQuery(xml).find('SEQUENCE:first');\n                            self.setSequence(sequenceNode.text(), sequenceNode.attr('id'), sequenceNode.attr('label'));\n                        } catch (e) {\n                            console.log('Error decoding response data: ' + e.message);\n                            self.clearSequence('No sequence available', '../biojs/css/images/warning_icon.png');\n                        }\n                    }).fail(function(jqXHR, textStatus, errorThrown) {\n                        console.log('Error requesting the sequence: ' + textStatus);\n                        self.clearSequence('Error requesting the sequence to the server ' + this.url, '../biojs/css/images/warning_icon.png');\n                    });\n                },\n\n                /**\n       * Shows the columns indicated by the indexes array.\n       * @param {string} [showMessage] Message to be showed.\n       * @param {string} [icon] Icon to be showed a side of the message\n       *\n       * @example\n       * mySequence.clearSequence(\"No sequence available\", \"../biojs/css/images/warning_icon.png\");\n       *\n       */\n                clearSequence: function (showMessage, icon) {\n\n                    var message = undefined;\n\n                    this.opt.sequence = '';\n                    this.opt.id = '';\n                    this._highlights = [];\n                    this._highlightsCount = 0;\n                    this.opt.selection = { start: 0, end: 0 };\n                    this._annotations = [];\n                    this._contentDiv.children().remove();\n\n                    this._headerDiv.hide();\n\n                    if (undefined !== showMessage) {\n                        message = jQuery('<div>' + showMessage + '</div>')\n                            .appendTo(this._contentDiv)\n                            .addClass('message');\n\n                        if (undefined !== icon) {\n                            message.css({\n                                'background': 'transparent url(\"' + icon + '\") no-repeat center left',\n                                'padding-left': '20px'\n                            });\n                        }\n                    }\n                },\n\n                /**\n          * Set the current selection in the sequence causing the event {@link Sequence#onSelectionChanged}\n          *\n          * @example\n          * // set selection from the position 100 to 150\n          * mySequence.setSelection(100, 150);\n          *\n          * @param {int} start The starting character of the selection.\n          * @param {int} end The ending character of the selection\n          */\n                setSelection: function (start, end) {\n                    if (start > end) {\n                        var aux = end;\n                        end = start;\n                        start = aux;\n\n                    }\n\n                    if (start != this.opt.selection.start || end != this.opt.selection.end) {\n                        this._setSelection(start, end);\n                        this.trigger(\n                            EVT_ON_SELECTION_CHANGED,\n                            { 'start': start, 'end': end }\n                        );\n                    }\n                },\n\n                _buildFormatSelector: function () {\n                    var self = this;\n\n                    console.log('build format selector container', this._container);\n                    this._headerDiv = jQuery('<div></div>').appendTo(this._container);\n                    this._headerDiv.append('Format: ');\n\n                    this._formatSelector = jQuery('<select> ' +\n            '<option value=\"FASTA\">FASTA</option>' +\n            '<option value=\"CODATA\">CODATA</option>' +\n            '<option value=\"PRIDE\">PRIDE</option>' +\n            '<option value=\"RAW\">RAW</option></select>').appendTo(self._headerDiv);\n\n                    this._formatSelector.change(function (e) {\n                        self.opt.format = jQuery(this).val();\n                        self._redraw();\n                    });\n\n                    this._formatSelector.val(self.opt.format);\n\n                    this.formatSelectorVisible(this.opt.formatSelectorVisible);\n                },\n\n                /**\n          * Highlights a region using the font color defined in {Sequence#highlightFontColor} by default is red.\n          *\n          * @example\n          * // highlight the characters within the position 100 to 150, included.\n          * mySequence.addHighlight( { \"start\": 100, \"end\": 150, \"color\": \"white\", \"background\": \"red\", \"id\": \"aaa\" } );\n          *\n          * @param {Object} h The highlight defined as follows:\n          *\n          *\n          * @return {int} representing the id of the highlight on the internal array. Returns -1 on failure\n          */\n                addHighlight: function (h) {\n                    var id = '-1';\n                    var color = '';\n                    var background = '';\n                    var highlight = {};\n\n                    if (h instanceof Object && h.start <= h.end) {\n\n                        color = ('string' == typeof h.color) ? h.color : this.opt.highlightFontColor;\n                        background = ('string' == typeof h.background) ? h.background : this.opt.highlightBackgroundColor;\n                        id = ('string' == typeof h.id) ? h.id : (new Number(this._highlightsCount++)).toString();\n\n                        highlight = { 'start': h.start, 'end': h.end, 'color': color, 'background': background, 'id': id };\n\n                        this._highlights.push(highlight);\n                        this._applyHighlight(highlight);\n                        this._restoreSelection(h.start, h.end);\n                    }\n\n                    return id;\n                },\n                /*\n           * Function: Sequence._applyHighlight\n           * Purpose:  Apply the specified color and background to a region between 'start' and 'end'.\n           * Returns:  -\n           * Inputs: highlight -> {Object} An object containing the fields start (int), end (int),\n           * \t\t\t\t\t\tcolor (HTML color string) and background (HTML color string).\n           */\n                _applyHighlight: function (highlight) {\n                    var zindex = 0,\n                        z = 0,\n                        o = 0;\n                    var seq = this._contentDiv.find('.sequence');\n                    for (var i = highlight.start - 1; i < highlight.end; i++) {\n                        zindex = jQuery(seq[i]).css('z-index');\n                        if (zindex == 'auto') {\n                            z = 1;\n                            o = 1;\n                        }\n                        else {\n                            z = 0;\n                            o = 0.5;\n                        }\n                        jQuery(seq[i])\n                            .css({\n                                'color': highlight.color,\n                                'background-color': highlight.background,\n                                'z-index': z,\n                                'opacity': o\n                            })\n                            .addClass('highlighted');\n                    }\n                },\n                /*\n           * Function: Sequence._applyHighlights\n           * Purpose:  Apply the specified highlights.\n           * Returns:  -\n           * Inputs: highlights -> {Object[]} An array containing the highlights to be applied.\n           */\n                _applyHighlights: function (highlights) {\n                    for (var i in highlights) {\n                        this._applyHighlight(highlights[i]);\n                    }\n                },\n                /*\n           * Function: Sequence._restoreHighlights\n           * Purpose:  Repaint the highlights in the specified region.\n           * Returns:  -\n           * Inputs: start -> {int} Start of the region to be restored.\n           * \t\t   end -> {int} End of the region to be restored.\n           */\n                _restoreHighlights: function (start, end) {\n                    var h = this._highlights;\n                    // paint the region using default blank settings\n                    this._applyHighlight({\n                        'start': start,\n                        'end': end,\n                        'color': this.opt.fontColor,\n                        'background': this.opt.backgroundColor\n                    });\n                    // restore highlights in that region\n                    for (var i in h) {\n                        // interval intersects with highlight i ?\n                        if (!(h[i].start > end || h[i].end < start)) {\n                            a = (h[i].start < start) ? start : h[i].start;\n                            b = (h[i].end > end) ? end : h[i].end;\n                            this._applyHighlight({\n                                'start': a,\n                                'end': b,\n                                'color': h[i].color,\n                                'background': h[i].background\n                            });\n                        }\n                    }\n                },\n                /*\n           * Function: Sequence._restoreSelection\n           * Purpose:  Repaint the current selection in the specified region.\n           * \t\t\t It is used in the case of any highlight do overriding of the current selection.\n           * Returns:  -\n           * Inputs: start -> {int} Start of the region to be restored.\n           * \t\t   end -> {int} End of the region to be restored.\n           */\n                _restoreSelection: function (start, end) {\n                    var sel = this.opt.selection;\n                    // interval intersects with current selection ?\n                    // restore selection\n                    if (!(start > sel.end || end < sel.start)) {\n                        a = (start < sel.start) ? sel.start : start;\n                        b = (end > sel.end) ? sel.end : end;\n\n                        this._applyHighlight({\n                            'start': a,\n                            'end': b,\n                            'color': this.opt.selectionFontColor,\n                            'background': this.opt.selectionColor,\n                        });\n                    }\n                },\n\n                /**\n          * Remove a highlight.\n          *\n          * @example\n          * // Clear the highlighted characters within the position 100 to 150, included.\n          * mySequence.removeHighlight(\"spin1\");\n          *\n          * @param {string} id The id of the highlight on the internal array. This value is returned by method highlight.\n          */\n                removeHighlight: function (id) {\n                    var h = this._highlights;\n                    for (i in h) {\n                        if (h[i].id == id) {\n                            start = h[i].start;\n                            end = h[i].end;\n                            h.splice(i, 1);\n\n                            this._restoreHighlights(start, end);\n                            this._restoreSelection(start, end);\n\n                            break;\n                        }\n                    }\n                },\n\n                /**\n          * Remove all the highlights of whole sequence.\n          *\n          * @example\n          * mySequence.removeAllHighlights();\n          */\n                removeAllHighlights: function () {\n                    this._highlights = [];\n                    this._restoreHighlights(1, this.opt.sequence.length);\n                    this._restoreSelection(1, this.opt.sequence.length);\n                },\n\n                /**\n          * Changes the current displaying format of the sequence.\n          *\n          * @example\n          * // Set format to 'FASTA'.\n          * mySequence.setFormat('FASTA');\n          *\n          * @param {string} format The format for the sequence to be displayed.\n          */\n                setFormat: function (format) {\n                    if (this.opt.format != format.toUpperCase()) {\n                        this.opt.format = format.toUpperCase();\n                        this._redraw();\n                    }\n\n                    var self = this;\n                    // Changes the option in the combo box\n                    this._headerDiv.find('option').each(function () {\n                        if (jQuery(this).val() == self.opt.format.toUpperCase()) {\n                            jQuery(this).attr('selected', 'selected');\n                        }\n                    });\n                },\n\n                /**\n          * Changes the current number of columns in the displayed sequence.\n          *\n          * @example\n          * // Set the number of columns to 70.\n          * mySequence.setNumCols(70);\n          *\n          * @param {int} numCols The number of columns.\n          */\n                setNumCols: function (numCols) {\n                    this.opt.columns.size = numCols;\n                    this._redraw();\n                },\n\n                /**\n          * Set the visibility of the drop-down list of formats.\n          *\n          * @param {boolean} visible true: show; false: hide.\n          */\n                formatSelectorVisible: function (visible) {\n                    if (visible) {\n                        this._headerDiv.show();\n                    } else {\n                        this._headerDiv.hide();\n                    }\n                },\n\n                /**\n          * This is similar to a {Biojs.Protein3D#formatSelectorVisible} with the 'true' argument.\n          *\n          * @example\n          * // Shows the format selector.\n          * mySequence.showFormatSelector();\n          *\n          */\n                showFormatSelector: function () {\n                    this._headerDiv.show();\n                },\n\n                /**\n          * This is similar to a {Biojs.Protein3D#formatSelectorVisible} with the 'false' argument.\n          *\n          * @example\n          * // Hides the format selector.\n          * mySequence.hideFormatSelector();\n          *\n          */\n                hideFormatSelector: function () {\n                    this._headerDiv.hide();\n                },\n\n                /**\n          * Hides the whole component.\n          *\n          */\n                hide: function () {\n                    this._headerDiv.hide();\n                    this._contentDiv.hide();\n                },\n\n                /**\n          * Shows the whole component.\n          *\n          */\n                show: function () {\n                    this._headerDiv.show();\n                    this._contentDiv.show();\n                },\n                /*\n           * Function: Sequence._setSelection\n           * Purpose:  Update the current selection.\n           * Returns:  -\n           * Inputs: start -> {int} Start of the region to be selected.\n           * \t\t   end -> {int} End of the region to be selected.\n           */\n                _setSelection: function (start, end) {\n                    //alert(\"adsas\");\n\n                    var current = this.opt.selection;\n                    var change = {};\n\n                    // Which is the change on selection?\n                    if (current.start == start) {\n                        // forward?\n                        if (current.end < end) {\n                            change.start = current.end;\n                            change.end = end;\n                        } else {\n                            this._restoreHighlights(end + 1, current.end);\n                        }\n                    } else if (current.end == end) {\n                        // forward?\n                        if (current.start > start) {\n                            change.start = start;\n                            change.end = current.start;\n                        } else {\n                            this._restoreHighlights(current.start, start - 1);\n                        }\n                    } else {\n                        this._restoreHighlights(current.start, current.end);\n                        change.start = start;\n                        change.end = end;\n                    }\n\n                    current.start = start;\n                    current.end = end;\n                },\n\n                /*\n           * Function: Sequence._repaintSelection\n           * Purpose:  Repaint the whole current selection.\n           * Returns:  -\n           * Inputs: -\n           */\n                _repaintSelection: function () {\n                    var s = this.opt.selection;\n                    this._setSelection(0, 0);\n                    this._setSelection(s.start, s.end);\n                },\n\n                /*\n           * Function: Sequence._redraw\n           * Purpose:  Repaint the current sequence.\n           * Returns:  -\n           * Inputs: -\n           */\n                _redraw: function () {\n                    var i = 0;\n                    var self = this;\n\n                    // Reset the content\n                    //this._contentDiv.text('');\n                    this._contentDiv.children().remove();\n\n                    // Rebuild the spans of the sequence\n                    // according to format\n                    if (this.opt.format == 'RAW') {\n                        this._drawRaw();\n                    } else if (this.opt.format == 'CODATA') {\n                        this._drawCodata();\n                    } else if (this.opt.format == 'FASTA') {\n                        this._drawFasta();\n                    } else {\n                        this.opt.format = 'PRIDE';\n                        this._drawPride();\n                    }\n\n                    // Restore the highlighted regions\n                    this._applyHighlights(this._highlights);\n                    this._repaintSelection();\n                    this._addSpanEvents();\n                },\n                /*\n           * Function: Sequence._drawFasta\n           * Purpose:  Repaint the current sequence using FASTA format.\n           * Returns:  -\n           * Inputs: -\n           */\n                _drawFasta: function () {\n                    var self = this;\n                    var a = this.opt.sequence.toUpperCase().split('');\n                    var pre = jQuery('<pre></pre>').appendTo(this._contentDiv);\n\n                    var i = 1;\n                    var arr = [];\n                    var str = '>' + this.opt.id + ' ' + a.length + ' bp<br/>';\n\n                    /* Correct column size in case the sequence is as small peptide */\n                    var numCols = this.opt.columns.size;\n                    if (this.opt.sequence.length < this.opt.columns.size) {\n                        numCols = this.opt.sequence.length;\n                    }\n\n                    var opt = {\n                        numCols: numCols,\n                        numColsForSpace: 0\n                    };\n\n                    str += this._drawSequence(a, opt);\n                    pre.html(str);\n\n                    this._drawAnnotations(opt);\n                },\n                /*\n           * Function: Sequence._drawCodata\n           * Purpose:  Repaint the current sequence using CODATA format.\n           * Returns:  -\n           * Inputs: -\n           */\n                _drawCodata: function () {\n                    var seq = this.opt.sequence.toUpperCase().split('');\n\n                    // Add header.\n                    if (this.opt.formatOptions !== undefined) {\n                        if (this.opt.formatOptions.title !== undefined) {\n                            if (this.opt.formatOptions.title != false) {\n                                var header =\n                  $('<pre/>').addClass('header').appendTo(this._contentDiv);\n                                header.html('ENTRY           ' + this.opt.id +\n                  '<br/>SEQUENCE<br/>');\n                            }\n                        }\n                    }\n\n                    /* Correct column size in case the sequence is as small peptide */\n                    var numCols = this.opt.columns.size;\n                    if (this.opt.sequence.length < this.opt.columns.size) {\n                        numCols = this.opt.sequence.length;\n                    }\n\n                    var opt = {\n                        numLeft: true,\n                        numLeftSize: 7,\n                        numLeftPad: ' ',\n                        numTop: true,\n                        numTopEach: 5,\n                        numCols: numCols,\n                        numColsForSpace: 0,\n                        spaceBetweenChars: true\n                    };\n                    this._drawSequence(seq, opt);\n\n                    // Add footer.\n                    if (this.opt.formatOptions !== undefined) {\n                        if (this.opt.formatOptions.footer !== undefined) {\n                            if (this.opt.formatOptions.footer != false) {\n                                var footer =\n                  $('<pre/>').addClass('footer').appendTo(this._contentDiv);\n                                footer.html('<br/>///');\n                            }\n                        }\n                    }\n\n                    this._drawAnnotations(opt);\n                },\n                /*\n           * Function: Sequence._drawAnnotations\n           * Purpose:  Paint the annotations on the sequence.\n           * Returns:  -\n           * Inputs: settings -> {object}\n           */\n                _drawAnnotations: function (settings) {\n\n                    var self = this;\n                    var a = this.opt.sequence.toLowerCase().split('');\n                    var annotations = this._annotations;\n                    var leftSpaces = '';\n                    var row = '';\n                    var annot = '';\n\n                    // Index at the left?\n                    if (settings.numLeft) {\n                        leftSpaces += this._formatIndex(' ', settings.numLeftSize + 2, ' ');\n                    }\n\n                    for (var i = 0; i < a.length; i += settings.numCols) {\n                        row = '';\n                        for (var key in annotations) {\n                            annotations[key].id = this.getId() + '_' + key;\n                            annot = this._getHTMLRowAnnot(i + 1, annotations[key], settings);\n                            if (annot.length > 0) {\n                                row += '<br/>';\n                                row += leftSpaces;\n                                row += annot;\n                                row += '<br/>';\n                            }\n                        }\n\n                        var numCols = settings.numCols;\n                        var charRemaining = a.length - i;\n                        if (charRemaining < numCols) {\n                            numCols = charRemaining;\n                        }\n\n                        if (settings.numRight) {\n                            jQuery(row).insertAfter('div#' + self.opt.target + ' div pre span#numRight_' + this.getId() + '_' + (i + numCols));\n                        } else {\n                            jQuery(row).insertAfter('div#' + self.opt.target + ' div pre span#' + this.getId() + '_' + (i + numCols));\n                        }\n                    }\n\n                    // add tool tips and background' coloring effect\n                    jQuery(this._contentDiv).find('.annotation').each(function () {\n                        self._addToolTip(this, function () {\n                            return self._getAnnotationString(jQuery(this).attr('id'));\n                        });\n\n                        jQuery(this).mouseover(function (e) {\n                            jQuery('.annotation.' + jQuery(e.target).attr('id')).each(function () {\n                                jQuery(this).css('background-color', jQuery(this).attr('color'));\n                            });\n                        }).mouseout(function () {\n                            jQuery('.annotation').css('background-color', 'transparent');\n\n                        }).click(function (e) {\n                            var name = undefined;\n                            var id = jQuery(e.target).attr('id');\n                            for (var i = 0; i < self._annotations.length; i++) {\n                                if (self._annotations[i].id == id) {\n                                    name = self._annotations[i].name;\n                                    continue;\n                                }\n                            }\n                            self.trigger(EVT_ON_ANNOTATION_CLICKED, {\n                                'name': name,\n                                //\"pos\": parseInt( jQuery(e.target).attr(\"pos\") )\n                            });\n                        });\n\n                    });\n\n                },\n                /*\n         * Function: Sequence._getAnnotationString\n         * Purpose:  Get the annotation text message for the tooltip\n         * Returns:  {string} Annotation text for the annotation\n         * Inputs:   id -> {int} index of the internal annotation array\n         */\n                _getAnnotationString: function (id) {\n                    var annotation = this._annotations[id.substr(id.indexOf('_') + 1)];\n                    return annotation.name + '<br/>' + ((annotation.html) ? annotation.html : '');\n                },\n\n                /*\n         * Function: Sequence._getHTMLRowAnnot\n         * Purpose:  Build an annotation\n         * Returns:  HTML of the annotation\n         * Inputs:   currentPos -> {int}\n         * \t\t\t annotation -> {Object}\n         *  \t\t settings -> {Object}\n         */\n                _getHTMLRowAnnot: function (currentPos, annotation, settings) {\n                    var styleBegin = 'border-left:1px solid; border-bottom:1px solid; border-color:';\n                    var styleOn = 'border-bottom:1px solid; border-color:';\n                    var styleEnd = 'border-bottom:1px solid; border-right:1px solid; border-color:';\n                    var styleBeginAndEnd = 'border-left:1px solid; border-right:1px solid; border-bottom:1px solid; border-color:';\n\n                    var row = [];\n                    var end = (currentPos + settings.numCols);\n                    var spaceBetweenChars = (settings.spaceBetweenChars) ? ' ' : '';\n                    var defaultColor = annotation.color;\n                    var id = annotation.id;\n                    for (var pos = currentPos; pos < end; pos++) {\n                        // regions\n                        for (var r in annotation.regions) {\n                            region = annotation.regions[r];\n\n                            spaceAfter = '';\n                            spaceAfter += (pos % settings.numColsForSpace == 0) ? ' ' : '';\n                            spaceAfter += spaceBetweenChars;\n\n                            color = ((region.color) ? region.color : defaultColor);\n                            data = 'class=\"annotation ' + id + '\" id=\"' + id + '\" color=\"' + color + '\" pos=\"' + pos + '\"';\n\n                            if (pos == region.start && pos == region.end) {\n                                row[pos] = '<span style=\"' + styleBeginAndEnd + color + '\" ' + data + '> ';\n                                row[pos] += spaceAfter;\n                                row[pos] += '</span>';\n                            } else if (pos == region.start) {\n                                row[pos] = '<span style=\"' + styleBegin + color + '\" ' + data + '> ';\n                                row[pos] += spaceAfter;\n                                row[pos] += '</span>';\n                            } else if (pos == region.end) {\n                                row[pos] = '<span style=\"' + styleEnd + color + ' \" ' + data + '> ';\n                                //row[pos] += spaceAfter;\n                                row[pos] += '</span>';\n                            } else if (pos > region.start && pos < region.end) {\n                                row[pos] = '<span style=\"' + styleOn + color + '\" ' + data + '> ';\n                                row[pos] += spaceAfter;\n                                row[pos] += '</span>';\n                            } else if (!row[pos]) {\n                                row[pos] = ' ';\n                                row[pos] += spaceAfter;\n                            }\n                        }\n                    }\n\n                    var str = row.join('');\n\n                    return (str.indexOf('span') == -1) ? '' : str;\n                },\n                /*\n         * Function: Sequence._drawRaw\n         * Purpose:  Repaint the current sequence using RAW format.\n         * Returns:  -\n         * Inputs: -\n         */\n                _drawRaw: function () {\n                    var self = this;\n                    var a = this.opt.sequence.toLowerCase().split('');\n                    var i = 0;\n                    var arr = [];\n                    var pre = jQuery('<pre></pre>').appendTo(this._contentDiv);\n\n                    /* Correct column size in case the sequence is as small peptide */\n                    var numCols = this.opt.columns.size;\n                    if (this.opt.sequence.length < this.opt.columns.size) {\n                        numCols = this.opt.sequence.length;\n                    }\n\n                    var opt = {\n                        numCols: numCols\n                    };\n\n                    pre.html(\n                        this._drawSequence(a, opt)\n                    );\n\n                    this._drawAnnotations(opt);\n                },\n                /*\n           * Function: Sequence._drawPride\n           * Purpose:  Repaint the current sequence using PRIDE format.\n           * Returns:  -\n           * Inputs: -\n           */\n                _drawPride: function () {\n                    var seq = this.opt.sequence.toUpperCase().split('');\n\n                    /* Correct column size in case the sequence is as small peptide */\n                    var numCols = this.opt.columns.size;\n                    if (this.opt.sequence.length < this.opt.columns.size) {\n                        numCols = this.opt.sequence.length;\n                    }\n\n                    var opt = {\n                        numLeft: true,\n                        numLeftSize: 5,\n                        numLeftPad: ' ',\n                        numRight: false,\n                        numRightSize: 5,\n                        numRightPad: '',\n                        numCols: numCols,\n                        numColsForSpace: this.opt.columns.spacedEach\n                    };\n                    this._drawSequence(seq, opt);\n                    this._drawAnnotations(opt);\n                },\n                /*\n           * Function: Sequence._drawSequence\n           * Purpose:  Repaint the current sequence using CUSTOM format.\n           * Returns:  -\n           * Inputs:   a -> {char[]} a The sequence strand.\n           * \t\t\t opt -> {Object} opt The CUSTOM format.\n           */\n                _drawSequence: function (a, opt) {\n                    var indL = '';\n                    var indT = '';\n                    var indR = '\\n';\n                    var str = '';\n\n                    // Index at top?\n                    if (opt.numTop) {\n                        indT += '<span class=\"numTop pos-marker\">';\n                        var size = (opt.spaceBetweenChars) ? opt.numTopEach * 2 : opt.numTopEach;\n\n                        if (opt.numLeft) {\n                            indT += this._formatIndex(' ', opt.numLeftSize, ' ');\n                        }\n\n                        indT += this._formatIndex(' ', size, ' ');\n\n                        for (var x = opt.numTopEach; x < opt.numCols; x += opt.numTopEach) {\n                            indT += this._formatIndex(x, size, ' ', true);\n                        }\n                        indT += '</span>';\n                    }\n\n\n                    // Index at the left?\n                    if (opt.numLeft) {\n                        indL += '<span id=\"numLeft_' + this.getId() + '_' + 0 + '\"';\n                        indL += 'class=\"pos-marker\">';\n                        indL += this._formatIndex(1, opt.numLeftSize, opt.numLeftPad);\n                        indL += '  ';\n                        indL += '</span>';\n                        indL += '\\n';\n                    }\n\n                    var j = 1;\n                    for (var i = 1; i <= a.length; i++) {\n\n                        if (i % opt.numCols == 0) {\n                            str += '<span class=\"sequence\" id=\"' + this.getId() + '_' + i + '\">' + a[i - 1] + '</span>';\n\n                            if (opt.numRight) {\n                                indR += '<span id=\"numRight_' + this.getId() + '_' + i + '\"';\n                                indR += 'class=\"pos-marker\">';\n                                indR += '  ';\n                                indR += this._formatIndex(i, opt.numRightSize, opt.numRightPad);\n                                indR += '</span>';\n                                indR += '\\n';\n                            }\n\n                            str += '<br/>';\n\n                            var aaRemaining = a.length - i;\n                            if (opt.numLeft && aaRemaining > 0) {\n                                indL += '<span id=\"numLeft_' + this.getId() + '_' + i + '\"';\n                                indL += 'class=\"pos-marker\">';\n                                indL += this._formatIndex(i + 1, opt.numLeftSize, opt.numLeftPad);\n                                indL += '  ';\n                                indL += '</span>';\n                                indL += '\\n';\n                            }\n\n                            j = 1;\n\n                        } else {\n                            str += '<span class=\"sequence\" id=\"' + this.getId() + '_' + i + '\"';\n                            str += (j % opt.numColsForSpace == 0) ? ' style=\"letter-spacing: 1em;\"' : '';\n                            str += (opt.spaceBetweenChars) ? ' style=\"letter-spacing: 1em;\"' : '';\n                            str += '\">' + a[i - 1];\n                            str += '</span>';\n                            j++;\n                        }\n                    }\n\n                    str += '<br/>';\n\n                    if (jQuery.browser.msie) {\n                        str = '<pre>' + str + '</pre>';\n                    }\n\n\n                    var ret = [];\n                    if (opt.numTop) {\n                        $('<pre/>')\n                            .html(indT)\n                            .addClass('indT')\n                            .css({\n                                color: '#aaa'\n                            })\n                            .appendTo(this._contentDiv);\n                    }\n                    if (opt.numLeft) {\n                        $('<pre/>')\n                            .html(indL)\n                            .addClass('indL hidden sm:inline-block')\n                            .appendTo(this._contentDiv);\n                    }\n\n                    $('<pre/>')\n                        .html(str)\n                        .addClass('seqF inline-block')\n                        .appendTo(this._contentDiv);\n\n                    if (opt.numRight) {\n                        $('<pre/>')\n                            .html(indR)\n                            .addClass('indR')\n                            .css({\n                                color: '#aaa',\n                                display: 'inline-block'\n                            })\n                            .appendTo(this._contentDiv);\n                    }\n\n                    return str;\n                },\n                /*\n           * Function: Sequence._formatIndex\n           * Purpose:  Build the HTML corresponding to counting numbers (top, left, right) in the strand.\n           * Returns:  -\n           * Inputs:   number -> {int} The number\n           * \t\t\t size -> {int} Number of bins to suit the number.\n           * \t\t\t fillingChar -> {char} Character to be used for filling out blank bins.\n           * \t\t\t alignLeft -> {bool} Tell if aligned to the left.\n           */\n                _formatIndex: function (number, size, fillingChar, alignLeft) {\n                    var str = number.toString();\n                    var filling = '';\n                    var padding = size - str.length;\n                    if (padding > 0) {\n                        while (padding-- > 0) {\n                            filling += ('<span>' + fillingChar + '</span>');\n                        }\n                        if (alignLeft) {\n                            str = number + filling;\n                        } else {\n                            str = filling + number;\n                        }\n                    }\n                    return str;\n                },\n                /*\n           * Function: Sequence._addSpanEvents\n           * Purpose:  Add the event handlers to the strand.\n           * Returns:  -\n           * Inputs:   -\n           */\n                _addSpanEvents: function () {\n                    var self = this;\n                    var isMouseDown = false;\n                    var clickPos;\n                    var currentPos;\n\n                    self._contentDiv.find('.sequence').each(function () {\n\n                        // Register the starting position\n                        jQuery(this).mousedown(function () {\n                            var id = jQuery(this).attr('id');\n                            currentPos = parseInt(id.substr(id.indexOf('_') + 1));\n                            clickPos = currentPos;\n                            self._setSelection(clickPos, currentPos);\n                            isMouseDown = true;\n\n                            // Selection is happening, raise an event\n                            self.trigger(\n                                EVT_ON_SELECTION_CHANGE,\n                                {\n                                    'start': self.opt.selection.start,\n                                    'end': self.opt.selection.end\n                                }\n                            );\n\n                        }).mouseover(function () {\n                            // Update selection\n                            // Show tooltip containing the position\n                            var id = jQuery(this).attr('id');\n                            currentPos = parseInt(id.substr(id.indexOf('_') + 1));\n\n                            if (isMouseDown) {\n                                if (currentPos > clickPos) {\n                                    self._setSelection(clickPos, currentPos);\n                                } else {\n                                    self._setSelection(currentPos, clickPos);\n                                }\n\n                                // Selection is happening, raise an event\n                                self.trigger(EVT_ON_SELECTION_CHANGE, {\n                                    'start': self.opt.selection.start,\n                                    'end': self.opt.selection.end\n                                });\n                            }\n\n                        }).mouseup(function () {\n                            isMouseDown = false;\n                            // Selection is done, raise an event\n                            self.trigger(EVT_ON_SELECTION_CHANGED, {\n                                'start': self.opt.selection.start,\n                                'end': self.opt.selection.end\n                            });\n                        });\n\n                        // Add a tooltip for this sequence base.\n                        self._addToolTip.call(self, this, function () {\n                            if (isMouseDown) {\n                                return '[' + self.opt.selection.start + ', ' + self.opt.selection.end + ']';\n                            } else {\n                                return currentPos;\n                            }\n                        });\n\n                    })\n                        .css('cursor', 'pointer');\n                },\n                /*\n           * Function: Sequence._addTooltip\n           * Purpose:  Add a tooltip around the target DOM element provided as argument\n           * Returns:  -\n           * Inputs:   target -> {Element} DOM element wich is the targeted focus for the tooltip.\n           * \t\t\t cbGetMessageFunction -> {function} A callback function wich returns the message to be displayed in the tip.\n           */\n                _addToolTip: function (target, cbGetMessageFunction) {\n\n                    var tipId = this.opt._tooltip;\n\n                    jQuery(target).mouseover(function (e) {\n\n                        var offset = jQuery(e.target).offset();\n                        var containerOffset = jQuery(e.target).closest('.seqF').offset();\n\n                        if (!jQuery(tipId).is(':visible')) {\n                            jQuery(tipId)\n                                .css({\n                                    'background-color': '#000',\n                                    'padding': '3px 10px 3px 10px',\n                                    'top': offset.top - containerOffset.top + jQuery(e.target).height() + 15 + 'px',\n                                    'left': offset.left - containerOffset.left + jQuery(e.target).width() + 70 + 'px',\n                                    'color': '#fff',\n                                    'font-size': '12px',\n                                    'position': 'absolute'\n                                })\n                                .animate({ opacity: '0.85' }, 10)\n                                .html(cbGetMessageFunction.call(target))\n                                .show();\n                        }\n\n                    }).mouseout(function () {\n                        //Remove the appended tooltip template\n                        jQuery(tipId).hide();\n                    });\n                },\n\n                /**\n          * Annotate a set of intervals provided in the argument.\n          *\n          * @example\n          * // Annotations using regions with different colors.\n          * mySequence.addAnnotation({\n        *    name:\"UNIPROT\",\n        *    html:\"&lt;br&gt; Example of &lt;b&gt;HTML&lt;/b&gt;\",\n        *    color:\"green\",\n        *    regions: [\n        *       {start: 540, end: 560},\n        *       {start: 561, end:580, color: \"#FFA010\"},\n        *       {start: 581, end:590, color: \"red\"},\n        *       {start: 690, end:710}]\n        * });\n        *\n          *\n          * @param {Object} annotation The intervals belonging to the same annotation.\n          * Syntax: { name: &lt;value&gt;, color: &lt;HTMLColorCode&gt;, html: &lt;HTMLString&gt;, regions: [{ start: &lt;startVal1&gt;, end: &lt;endVal1&gt;}, ...,  { start: &lt;startValN&gt;, end: &lt;endValN&gt;}] }\n          */\n                addAnnotation: function (annotation) {\n                    this._annotations.push(annotation);\n                    this._redraw();\n                },\n\n                /**\n          * Removes an annotation by means of its name.\n          *\n          * @example\n          * // Remove the UNIPROT annotation.\n          * mySequence.removeAnnotation('UNIPROT');\n          *\n          * @param {string} name The name of the annotation to be removed.\n          *\n          */\n                removeAnnotation: function (name) {\n                    for (var i = 0; i < this._annotations.length; i++) {\n                        if (name != this._annotations[i].name) {\n                            this._annotations.splice(i, 1);\n                            this._redraw();\n                            break;\n                        }\n                    }\n                },\n                /**\n          * Removes all the current annotations.\n          *\n          * @example\n          * mySequence.removeAllAnnotations();\n          *\n          */\n                removeAllAnnotations: function () {\n                    this._annotations = [];\n                    this._redraw();\n                },\n\n\n            });\n\n        require('biojs-events').mixin(Sequence.prototype);\n\n    }, { 'biojs-events': 2, 'jquery-browser-plugin': 20, 'js-class': 22 }], 2: [function (require, module, exports) {\n        var events = require('backbone-events-standalone');\n\n        events.onAll = function (callback, context) {\n            this.on('all', callback, context);\n            return this;\n        };\n\n        // Mixin utility\n        events.oldMixin = events.mixin;\n        events.mixin = function (proto) {\n            events.oldMixin(proto);\n            // add custom onAll\n            var exports = ['onAll'];\n            for (var i = 0; i < exports.length; i++) {\n                var name = exports[i];\n                proto[name] = this[name];\n            }\n            return proto;\n        };\n\n        module.exports = events;\n\n    }, { 'backbone-events-standalone': 4 }], 3: [function (require, module, exports) {\n    /**\n     * Standalone extraction of Backbone.Events, no external dependency required.\n     * Degrades nicely when Backone/underscore are already available in the current\n     * global context.\n     *\n     * Note that docs suggest to use underscore's `_.extend()` method to add Events\n     * support to some given object. A `mixin()` method has been added to the Events\n     * prototype to avoid using underscore for that sole purpose:\n     *\n     *     var myEventEmitter = BackboneEvents.mixin({});\n     *\n     * Or for a function constructor:\n     *\n     *     function MyConstructor(){}\n     *     MyConstructor.prototype.foo = function(){}\n     *     BackboneEvents.mixin(MyConstructor.prototype);\n     *\n     * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n     * (c) 2013 Nicolas Perriault\n     */\n        /* global exports:true, define, module */\n        (function () {\n            var root = this,\n                breaker = {},\n                nativeForEach = Array.prototype.forEach,\n                hasOwnProperty = Object.prototype.hasOwnProperty,\n                slice = Array.prototype.slice,\n                idCounter = 0;\n\n            // Returns a partial implementation matching the minimal API subset required\n            // by Backbone.Events\n            function miniscore() {\n                return {\n                    keys: Object.keys || function (obj) {\n                        if (typeof obj !== 'object' && typeof obj !== 'function' || obj === null) {\n                            throw new TypeError('keys() called on a non-object');\n                        }\n                        var key, keys = [];\n                        for (key in obj) {\n                            if (obj.hasOwnProperty(key)) {\n                                keys[keys.length] = key;\n                            }\n                        }\n                        return keys;\n                    },\n\n                    uniqueId: function (prefix) {\n                        var id = ++idCounter + '';\n                        return prefix ? prefix + id : id;\n                    },\n\n                    has: function (obj, key) {\n                        return hasOwnProperty.call(obj, key);\n                    },\n\n                    each: function (obj, iterator, context) {\n                        if (obj == null) return;\n                        if (nativeForEach && obj.forEach === nativeForEach) {\n                            obj.forEach(iterator, context);\n                        } else if (obj.length === +obj.length) {\n                            for (var i = 0, l = obj.length; i < l; i++) {\n                                if (iterator.call(context, obj[i], i, obj) === breaker) return;\n                            }\n                        } else {\n                            for (var key in obj) {\n                                if (this.has(obj, key)) {\n                                    if (iterator.call(context, obj[key], key, obj) === breaker) return;\n                                }\n                            }\n                        }\n                    },\n\n                    once: function (func) {\n                        var ran = false, memo;\n                        return function () {\n                            if (ran) return memo;\n                            ran = true;\n                            memo = func.apply(this, arguments);\n                            func = null;\n                            return memo;\n                        };\n                    }\n                };\n            }\n\n            var _ = miniscore(), Events;\n\n            // Backbone.Events\n            // ---------------\n\n            // A module that can be mixed in to *any object* in order to provide it with\n            // custom events. You may bind with `on` or remove with `off` callback\n            // functions to an event; `trigger`-ing an event fires all callbacks in\n            // succession.\n            //\n            //     var object = {};\n            //     _.extend(object, Backbone.Events);\n            //     object.on('expand', function(){ alert('expanded'); });\n            //     object.trigger('expand');\n            //\n            Events = {\n\n                // Bind an event to a `callback` function. Passing `\"all\"` will bind\n                // the callback to all events fired.\n                on: function (name, callback, context) {\n                    if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n                    this._events || (this._events = {});\n                    var events = this._events[name] || (this._events[name] = []);\n                    events.push({ callback: callback, context: context, ctx: context || this });\n                    return this;\n                },\n\n                // Bind an event to only be triggered a single time. After the first time\n                // the callback is invoked, it will be removed.\n                once: function (name, callback, context) {\n                    if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n                    var self = this;\n                    var once = _.once(function () {\n                        self.off(name, once);\n                        callback.apply(this, arguments);\n                    });\n                    once._callback = callback;\n                    return this.on(name, once, context);\n                },\n\n                // Remove one or many callbacks. If `context` is null, removes all\n                // callbacks with that function. If `callback` is null, removes all\n                // callbacks for the event. If `name` is null, removes all bound\n                // callbacks for all events.\n                off: function (name, callback, context) {\n                    var retain, ev, events, names, i, l, j, k;\n                    if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n                    if (!name && !callback && !context) {\n                        this._events = {};\n                        return this;\n                    }\n\n                    names = name ? [name] : _.keys(this._events);\n                    for (i = 0, l = names.length; i < l; i++) {\n                        name = names[i];\n                        if (events = this._events[name]) {\n                            this._events[name] = retain = [];\n                            if (callback || context) {\n                                for (j = 0, k = events.length; j < k; j++) {\n                                    ev = events[j];\n                                    if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\n                    (context && context !== ev.context)) {\n                                        retain.push(ev);\n                                    }\n                                }\n                            }\n                            if (!retain.length) delete this._events[name];\n                        }\n                    }\n\n                    return this;\n                },\n\n                // Trigger one or many events, firing all bound callbacks. Callbacks are\n                // passed the same arguments as `trigger` is, apart from the event name\n                // (unless you're listening on `\"all\"`, which will cause your callback to\n                // receive the true name of the event as the first argument).\n                trigger: function (name) {\n                    if (!this._events) return this;\n                    var args = slice.call(arguments, 1);\n                    if (!eventsApi(this, 'trigger', name, args)) return this;\n                    var events = this._events[name];\n                    var allEvents = this._events.all;\n                    if (events) triggerEvents(events, args);\n                    if (allEvents) triggerEvents(allEvents, arguments);\n                    return this;\n                },\n\n                // Tell this object to stop listening to either specific events ... or\n                // to every object it's currently listening to.\n                stopListening: function (obj, name, callback) {\n                    var listeners = this._listeners;\n                    if (!listeners) return this;\n                    var deleteListener = !name && !callback;\n                    if (typeof name === 'object') callback = this;\n                    if (obj) (listeners = {})[obj._listenerId] = obj;\n                    for (var id in listeners) {\n                        listeners[id].off(name, callback, this);\n                        if (deleteListener) delete this._listeners[id];\n                    }\n                    return this;\n                }\n\n            };\n\n            // Regular expression used to split event strings.\n            var eventSplitter = /\\s+/;\n\n            // Implement fancy features of the Events API such as multiple event\n            // names `\"change blur\"` and jQuery-style event maps `{change: action}`\n            // in terms of the existing API.\n            var eventsApi = function (obj, action, name, rest) {\n                if (!name) return true;\n\n                // Handle event maps.\n                if (typeof name === 'object') {\n                    for (var key in name) {\n                        obj[action].apply(obj, [key, name[key]].concat(rest));\n                    }\n                    return false;\n                }\n\n                // Handle space separated event names.\n                if (eventSplitter.test(name)) {\n                    var names = name.split(eventSplitter);\n                    for (var i = 0, l = names.length; i < l; i++) {\n                        obj[action].apply(obj, [names[i]].concat(rest));\n                    }\n                    return false;\n                }\n\n                return true;\n            };\n\n            // A difficult-to-believe, but optimized internal dispatch function for\n            // triggering events. Tries to keep the usual cases speedy (most internal\n            // Backbone events have 3 arguments).\n            var triggerEvents = function (events, args) {\n                var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n                switch (args.length) {\n                case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n                case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n                case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n                case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n                default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n                }\n            };\n\n            var listenMethods = { listenTo: 'on', listenToOnce: 'once' };\n\n            // Inversion-of-control versions of `on` and `once`. Tell *this* object to\n            // listen to an event in another object ... keeping track of what it's\n            // listening to.\n            _.each(listenMethods, function (implementation, method) {\n                Events[method] = function (obj, name, callback) {\n                    var listeners = this._listeners || (this._listeners = {});\n                    var id = obj._listenerId || (obj._listenerId = _.uniqueId('l'));\n                    listeners[id] = obj;\n                    if (typeof name === 'object') callback = this;\n                    obj[implementation](name, callback, this);\n                    return this;\n                };\n            });\n\n            // Aliases for backwards compatibility.\n            Events.bind = Events.on;\n            Events.unbind = Events.off;\n\n            // Mixin utility\n            Events.mixin = function (proto) {\n                var exports = ['on', 'once', 'off', 'trigger', 'stopListening', 'listenTo',\n                    'listenToOnce', 'bind', 'unbind'];\n                _.each(exports, function (name) {\n                    proto[name] = this[name];\n                }, this);\n                return proto;\n            };\n\n            // Export Events as BackboneEvents depending on current context\n            if (typeof define === 'function') {\n                define(function () {\n                    return Events;\n                });\n            } else if (typeof exports !== 'undefined') {\n                if (typeof module !== 'undefined' && module.exports) {\n                    exports = module.exports = Events;\n                }\n                exports.BackboneEvents = Events;\n            } else {\n                root.BackboneEvents = Events;\n            }\n        })(this);\n\n    }, {}], 4: [function (require, module, exports) {\n        module.exports = require('./backbone-events-standalone');\n\n    }, { './backbone-events-standalone': 3 }], 5: [function (require, module, exports) {\n    // Generated by CoffeeScript 1.8.0\n        var GenericReader, xhr;\n\n        xhr = require('nets');\n\n        module.exports = GenericReader = (function () {\n            function GenericReader() { }\n\n            GenericReader.read = function (url, callback) {\n                var onret;\n                onret = (function (_this) {\n                    return function (err, response, text) {\n                        return _this._onRetrieval(text, callback);\n                    };\n                })(this);\n                return xhr(url, onret);\n            };\n\n            GenericReader._onRetrieval = function (text, callback) {\n                var rText;\n                rText = this.parse(text);\n                return callback(rText);\n            };\n\n            return GenericReader;\n\n        })();\n\n    }, { 'nets': 12 }], 6: [function (require, module, exports) {\n    // Generated by CoffeeScript 1.8.0\n        var Fasta, GenericReader, Seq, Str,\n            __hasProp = {}.hasOwnProperty,\n            __extends = function (child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n        Str = require('./strings');\n\n        GenericReader = require('./generic_reader');\n\n        Seq = require('biojs-model').seq;\n\n        module.exports = Fasta = (function (_super) {\n            __extends(Fasta, _super);\n\n            function Fasta() {\n                return Fasta.__super__.constructor.apply(this, arguments);\n            }\n\n            Fasta.parse = function (text) {\n                var currentSeq, database, databaseID, identifiers, k, label, line, seqs, _i, _len;\n                seqs = [];\n                if (Object.prototype.toString.call(text) !== '[object Array]') {\n                    text = text.split('\\n');\n                }\n                for (_i = 0, _len = text.length; _i < _len; _i++) {\n                    line = text[_i];\n                    if (line[0] === '>' || line[0] === ';') {\n                        label = line.slice(1);\n                        currentSeq = new Seq('', label, seqs.length);\n                        seqs.push(currentSeq);\n                        if (Str.contains('|', line)) {\n                            identifiers = label.split('|');\n                            k = 1;\n                            while (k < identifiers.length) {\n                                database = identifiers[k];\n                                databaseID = identifiers[k + 1];\n                                currentSeq.meta[database] = databaseID;\n                                k += 2;\n                            }\n                            currentSeq.name = identifiers[identifiers.length - 1];\n                        }\n                    } else {\n                        currentSeq.seq += line;\n                    }\n                }\n                return seqs;\n            };\n\n            return Fasta;\n\n        })(GenericReader);\n\n    }, { './generic_reader': 5, './strings': 7, 'biojs-model': 10 }], 7: [function (require, module, exports) {\n    // Generated by CoffeeScript 1.8.0\n        var strings;\n\n        strings = {\n            contains: function (text, search) {\n                return ''.indexOf.call(text, search, 0) !== -1;\n            }\n        };\n\n        module.exports = strings;\n\n    }, {}], 8: [function (require, module, exports) {\n    // Generated by CoffeeScript 1.8.0\n        var Utils;\n\n        Utils = {};\n\n        Utils.splitNChars = function (txt, num) {\n            var i, result, _i, _ref;\n            result = [];\n            for (i = _i = 0, _ref = txt.length - 1; num > 0 ? _i <= _ref : _i >= _ref; i = _i += num) {\n                result.push(txt.substr(i, num));\n            }\n            return result;\n        };\n\n        module.exports = Utils;\n\n    }, {}], 9: [function (require, module, exports) {\n    // Generated by CoffeeScript 1.8.0\n        var FastaExporter, Utils;\n\n        Utils = require('./utils');\n\n        module.exports = FastaExporter = (function () {\n            function FastaExporter() { }\n\n            FastaExporter['export'] = function (seqs, access) {\n                var seq, text, _i, _len;\n                text = '';\n                for (_i = 0, _len = seqs.length; _i < _len; _i++) {\n                    seq = seqs[_i];\n                    if (access != null) {\n                        seq = access(seq);\n                    }\n                    text += '>' + seq.name + '\\n';\n                    text += (Utils.splitNChars(seq.seq, 80)).join('\\n');\n                    text += '\\n';\n                }\n                return text;\n            };\n\n            return FastaExporter;\n\n        })();\n\n    }, { './utils': 8 }], 10: [function (require, module, exports) {\n        module.exports.seq = require('./seq');\n\n    }, { './seq': 11 }], 11: [function (require, module, exports) {\n        module.exports = function (seq, name, id) {\n            this.seq = seq;\n            this.name = name;\n            this.id = id;\n            this.meta = {};\n        };\n\n    }, {}], 12: [function (require, module, exports) {\n        var req = require('request');\n\n        module.exports = Nets;\n\n        function Nets(uri, opts, cb) {\n            req(uri, opts, cb);\n        }\n    }, { 'request': 13 }], 13: [function (require, module, exports) {\n        var window = require('global/window');\n        var once = require('once');\n        var parseHeaders = require('parse-headers');\n\n        var messages = {\n            '0': 'Internal XMLHttpRequest Error',\n            '4': '4xx Client Error',\n            '5': '5xx Server Error'\n        };\n\n        var XHR = window.XMLHttpRequest || noop;\n        var XDR = 'withCredentials' in (new XHR()) ? XHR : window.XDomainRequest;\n\n        module.exports = createXHR;\n\n        function createXHR(options, callback) {\n            if (typeof options === 'string') {\n                options = { uri: options };\n            }\n\n            options = options || {};\n            callback = once(callback);\n\n            var xhr = options.xhr || null;\n\n            if (!xhr) {\n                if (options.cors || options.useXDR) {\n                    xhr = new XDR();\n                } else {\n                    xhr = new XHR();\n                }\n            }\n\n            var uri = xhr.url = options.uri || options.url;\n            var method = xhr.method = options.method || 'GET';\n            var body = options.body || options.data;\n            var headers = xhr.headers = options.headers || {};\n            var sync = !!options.sync;\n            var isJson = false;\n            var key;\n            var load = options.response ? loadResponse : loadXhr;\n\n            if ('json' in options) {\n                isJson = true;\n                headers['Accept'] = 'application/json';\n                if (method !== 'GET' && method !== 'HEAD') {\n                    headers['Content-Type'] = 'application/json';\n                    body = JSON.stringify(options.json);\n                }\n            }\n\n            xhr.onreadystatechange = readystatechange;\n            xhr.onload = load;\n            xhr.onerror = error;\n            // IE9 must have onprogress be set to a unique function.\n            xhr.onprogress = function () {\n                // IE must die\n            };\n            // hate IE\n            xhr.ontimeout = noop;\n            xhr.open(method, uri, !sync);\n            //backward compatibility\n            if (options.withCredentials || (options.cors && options.withCredentials !== false)) {\n                xhr.withCredentials = true;\n            }\n\n            // Cannot set timeout with sync request\n            if (!sync) {\n                xhr.timeout = 'timeout' in options ? options.timeout : 5000;\n            }\n\n            if (xhr.setRequestHeader) {\n                for (key in headers) {\n                    if (headers.hasOwnProperty(key)) {\n                        xhr.setRequestHeader(key, headers[key]);\n                    }\n                }\n            } else if (options.headers) {\n                throw new Error('Headers cannot be set on an XDomainRequest object');\n            }\n\n            if ('responseType' in options) {\n                xhr.responseType = options.responseType;\n            }\n\n            if ('beforeSend' in options &&\n        typeof options.beforeSend === 'function'\n            ) {\n                options.beforeSend(xhr);\n            }\n\n            xhr.send(body);\n\n            return xhr;\n\n            function readystatechange() {\n                if (xhr.readyState === 4) {\n                    load();\n                }\n            }\n\n            function getBody() {\n                // Chrome with requestType=blob throws errors arround when even testing access to responseText\n                var body = null;\n\n                if (xhr.response) {\n                    body = xhr.response;\n                } else if (xhr.responseType === 'text' || !xhr.responseType) {\n                    body = xhr.responseText || xhr.responseXML;\n                }\n\n                if (isJson) {\n                    try {\n                        body = JSON.parse(body);\n                    } catch (e) { }\n                }\n\n                return body;\n            }\n\n            function getStatusCode() {\n                return xhr.status === 1223 ? 204 : xhr.status;\n            }\n\n            // if we're getting a none-ok statusCode, build & return an error\n            function errorFromStatusCode(status, body) {\n                var error = null;\n                if (status === 0 || (status >= 400 && status < 600)) {\n                    var message = (typeof body === 'string' ? body : false) ||\n            messages[String(status).charAt(0)];\n                    error = new Error(message);\n                    error.statusCode = status;\n                }\n\n                return error;\n            }\n\n            // will load the data & process the response in a special response object\n            function loadResponse() {\n                var status = getStatusCode();\n                var body = getBody();\n                var error = errorFromStatusCode(status, body);\n                var response = {\n                    body: body,\n                    statusCode: status,\n                    statusText: xhr.statusText,\n                    raw: xhr\n                };\n                if (xhr.getAllResponseHeaders) { //remember xhr can in fact be XDR for CORS in IE\n                    response.headers = parseHeaders(xhr.getAllResponseHeaders());\n                } else {\n                    response.headers = {};\n                }\n\n                callback(error, response, response.body);\n            }\n\n            // will load the data and add some response properties to the source xhr\n            // and then respond with that\n            function loadXhr() {\n                var status = getStatusCode();\n                var error = errorFromStatusCode(status);\n\n                xhr.status = xhr.statusCode = status;\n                xhr.body = getBody();\n                xhr.headers = parseHeaders(xhr.getAllResponseHeaders());\n\n                callback(error, xhr, xhr.body);\n            }\n\n            function error(evt) {\n                callback(evt, xhr);\n            }\n        }\n\n\n        function noop() { }\n\n    }, { 'global/window': 14, 'once': 15, 'parse-headers': 19 }], 14: [function (require, module, exports) {\n        (function (global) {\n            if (typeof window !== 'undefined') {\n                module.exports = window;\n            } else if (typeof global !== 'undefined') {\n                module.exports = global;\n            } else if (typeof self !== 'undefined') {\n                module.exports = self;\n            } else {\n                module.exports = {};\n            }\n\n        }).call(this, typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : {});\n\n    }, {}], 15: [function (require, module, exports) {\n        module.exports = once;\n\n        once.proto = once(function () {\n            Object.defineProperty(Function.prototype, 'once', {\n                value: function () {\n                    return once(this);\n                },\n                configurable: true\n            });\n        });\n\n        function once(fn) {\n            var called = false;\n            return function () {\n                if (called) return;\n                called = true;\n                return fn.apply(this, arguments);\n            };\n        }\n\n    }, {}], 16: [function (require, module, exports) {\n        var isFunction = require('is-function');\n\n        module.exports = forEach;\n\n        var toString = Object.prototype.toString;\n        var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n        function forEach(list, iterator, context) {\n            if (!isFunction(iterator)) {\n                throw new TypeError('iterator must be a function');\n            }\n\n            if (arguments.length < 3) {\n                context = this;\n            }\n\n            if (toString.call(list) === '[object Array]')\n                forEachArray(list, iterator, context);\n            else if (typeof list === 'string')\n                forEachString(list, iterator, context);\n            else\n                forEachObject(list, iterator, context);\n        }\n\n        function forEachArray(array, iterator, context) {\n            for (var i = 0, len = array.length; i < len; i++) {\n                if (hasOwnProperty.call(array, i)) {\n                    iterator.call(context, array[i], i, array);\n                }\n            }\n        }\n\n        function forEachString(string, iterator, context) {\n            for (var i = 0, len = string.length; i < len; i++) {\n                // no such thing as a sparse string.\n                iterator.call(context, string.charAt(i), i, string);\n            }\n        }\n\n        function forEachObject(object, iterator, context) {\n            for (var k in object) {\n                if (hasOwnProperty.call(object, k)) {\n                    iterator.call(context, object[k], k, object);\n                }\n            }\n        }\n\n    }, { 'is-function': 17 }], 17: [function (require, module, exports) {\n        module.exports = isFunction;\n\n        var toString = Object.prototype.toString;\n\n        function isFunction(fn) {\n            var string = toString.call(fn);\n            return string === '[object Function]' ||\n        (typeof fn === 'function' && string !== '[object RegExp]') ||\n        (typeof window !== 'undefined' &&\n          // IE8 and below\n          (fn === window.setTimeout ||\n            fn === window.alert ||\n            fn === window.confirm ||\n            fn === window.prompt));\n        }\n\n    }, {}], 18: [function (require, module, exports) {\n\n        exports = module.exports = trim;\n\n        function trim(str) {\n            return str.replace(/^\\s*|\\s*$/g, '');\n        }\n\n        exports.left = function (str) {\n            return str.replace(/^\\s*/, '');\n        };\n\n        exports.right = function (str) {\n            return str.replace(/\\s*$/, '');\n        };\n\n    }, {}], 19: [function (require, module, exports) {\n        var trim = require('trim')\n            , forEach = require('for-each')\n            , isArray = function (arg) {\n                return Object.prototype.toString.call(arg) === '[object Array]';\n            };\n\n        module.exports = function (headers) {\n            if (!headers)\n                return {};\n\n            var result = {};\n\n            forEach(\n                trim(headers).split('\\n')\n                , function (row) {\n                    var index = row.indexOf(':')\n                        , key = trim(row.slice(0, index)).toLowerCase()\n                        , value = trim(row.slice(index + 1));\n\n                    if (typeof (result[key]) === 'undefined') {\n                        result[key] = value;\n                    } else if (isArray(result[key])) {\n                        result[key].push(value);\n                    } else {\n                        result[key] = [result[key], value];\n                    }\n                }\n            );\n\n            return result;\n        };\n    }, { 'for-each': 16, 'trim': 18 }], 20: [function (require, module, exports) {\n        module.exports = require('./jquery.browser');\n\n    }, { './jquery.browser': 21 }], 21: [function (require, module, exports) {\n    /*!\n     * jQuery Browser Plugin v0.0.6\n     * https://github.com/gabceb/jquery-browser-plugin\n     *\n     * Original jquery-browser code Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors\n     * http://jquery.org/license\n     *\n     * Modifications Copyright 2013 Gabriel Cebrian\n     * https://github.com/gabceb\n     *\n     * Released under the MIT license\n     *\n     * Date: 2013-07-29T17:23:27-07:00\n     */\n\n\n        var matched, browser;\n\n        var uaMatch = function (ua) {\n            ua = ua.toLowerCase();\n\n            var match = /(opr)[\\/]([\\w.]+)/.exec(ua) ||\n        /(chrome)[ \\/]([\\w.]+)/.exec(ua) ||\n        /(version)[ \\/]([\\w.]+).*(safari)[ \\/]([\\w.]+)/.exec(ua) ||\n        /(webkit)[ \\/]([\\w.]+)/.exec(ua) ||\n        /(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(ua) ||\n        /(msie) ([\\w.]+)/.exec(ua) ||\n        ua.indexOf('trident') >= 0 && /(rv)(?::| )([\\w.]+)/.exec(ua) ||\n        ua.indexOf('compatible') < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(ua) ||\n        [];\n\n            var platform_match = /(ipad)/.exec(ua) ||\n        /(iphone)/.exec(ua) ||\n        /(android)/.exec(ua) ||\n        /(windows phone)/.exec(ua) ||\n        /(win)/.exec(ua) ||\n        /(mac)/.exec(ua) ||\n        /(linux)/.exec(ua) ||\n        /(cros)/i.exec(ua) ||\n        [];\n\n            return {\n                browser: match[3] || match[1] || '',\n                version: match[2] || '0',\n                platform: platform_match[0] || ''\n            };\n        };\n\n        matched = uaMatch(window.navigator.userAgent);\n        browser = {};\n        browser.uaMatch = uaMatch;\n\n        if (matched.browser) {\n            browser[matched.browser] = true;\n            browser.version = matched.version;\n            browser.versionNumber = parseInt(matched.version);\n        }\n\n        if (matched.platform) {\n            browser[matched.platform] = true;\n        }\n\n        // These are all considered mobile platforms, meaning they run a mobile browser\n        if (browser.android || browser.ipad || browser.iphone || browser['windows phone']) {\n            browser.mobile = true;\n        }\n\n        // These are all considered desktop platforms, meaning they run a desktop browser\n        if (browser.cros || browser.mac || browser.linux || browser.win) {\n            browser.desktop = true;\n        }\n\n        // Chrome, Opera 15+ and Safari are webkit based browsers\n        if (browser.chrome || browser.opr || browser.safari) {\n            browser.webkit = true;\n        }\n\n        // IE11 has a new token so we will assign it msie to avoid breaking changes\n        if (browser.rv) {\n            var ie = 'msie';\n\n            matched.browser = ie;\n            browser[ie] = true;\n        }\n\n        // Opera 15+ are identified as opr\n        if (browser.opr) {\n            var opera = 'opera';\n\n            matched.browser = opera;\n            browser[opera] = true;\n        }\n\n        // Stock Android browsers are marked as Safari on Android.\n        if (browser.safari && browser.android) {\n            var android = 'android';\n\n            matched.browser = android;\n            browser[android] = true;\n        }\n\n        // Assign the name and platform variable\n        browser.name = matched.browser;\n        browser.platform = matched.platform;\n\n\n        module.exports = browser;\n\n    }, {}], 22: [function (require, module, exports) {\n        (function (global) {\n            /** @preserve http://github.com/easeway/js-class */\n\n            // Class Definition using ECMA5 prototype chain\n\n            function inherit(dest, src, noParent) {\n                while (src && src !== Object.prototype) {\n                    Object.getOwnPropertyNames(src).forEach(function (name) {\n                        if (name != '.class' && !dest.hasOwnProperty(name)) {\n                            var desc = Object.getOwnPropertyDescriptor(src, name);\n                            Object.defineProperty(dest, name, desc);\n                        }\n                    });\n                    if (noParent) {\n                        break;\n                    }\n                    src = src.__proto__;\n                }\n                return dest;\n            }\n\n            var Class = function (base, proto, options) {\n                if (typeof (base) != 'function') {\n                    options = proto;\n                    proto = base;\n                    base = Object;\n                }\n                if (!proto) {\n                    proto = {};\n                }\n                if (!options) {\n                    options = {};\n                }\n\n                var meta = {\n                    name: options.name,\n                    base: base,\n                    implements: []\n                };\n                var classProto = Class.clone(proto);\n                if (options.implements) {\n                    (Array.isArray(options.implements) ? options.implements : [options.implements])\n                        .forEach(function (implementedType) {\n                            if (typeof (implementedType) == 'function' && implementedType.prototype) {\n                                meta.implements.push(implementedType);\n                                Class.extend(classProto, implementedType.prototype);\n                            }\n                        });\n                }\n                classProto.__proto__ = base.prototype;\n                var theClass = function () {\n                    if (typeof (this.constructor) == 'function') {\n                        this.constructor.apply(this, arguments);\n                    }\n                };\n                meta.type = theClass;\n                theClass.prototype = classProto;\n                Object.defineProperty(theClass, '.class.meta', { value: meta, enumerable: false, configurable: false, writable: false });\n                Object.defineProperty(classProto, '.class', { value: theClass, enumerable: false, configurable: false, writable: false });\n                if (options.statics) {\n                    Class.extend(theClass, options.statics);\n                }\n                return theClass;\n            };\n\n            Class.extend = inherit;\n\n            Class.clone = function (object) {\n                return inherit({}, object);\n            };\n\n            function findType(meta, type) {\n                while (meta) {\n                    if (meta.type.prototype === type.prototype) {\n                        return true;\n                    }\n                    for (var i in meta.implements) {\n                        var implType = meta.implements[i];\n                        var implMeta = implType['.class.meta'];\n                        if (implMeta) {\n                            if (findType(implMeta, type)) {\n                                return true;\n                            }\n                        } else {\n                            for (var proto = implType.prototype; proto; proto = proto.__proto__) {\n                                if (proto === type.prototype) {\n                                    return true;\n                                }\n                            }\n                        }\n                    }\n                    meta = meta.base ? meta.base['.class.meta'] : undefined;\n                }\n                return false;\n            }\n\n            var Checker = Class({\n                constructor: function (object) {\n                    this.object = object;\n                },\n\n                typeOf: function (type) {\n                    if (this.object instanceof type) {\n                        return true;\n                    }\n                    var meta = Class.typeInfo(this.object);\n                    return meta && findType(meta, type);\n                }\n            });\n\n            // aliases\n            Checker.prototype.a = Checker.prototype.typeOf;\n            Checker.prototype.an = Checker.prototype.typeOf;\n\n            Class.is = function (object) {\n                return new Checker(object);\n            };\n\n            Class.typeInfo = function (object) {\n                var theClass = object.__proto__['.class'];\n                return theClass ? theClass['.class.meta'] : undefined;\n            };\n\n            Class.VERSION = [0, 0, 2];\n\n            if (module) {\n                module.exports = Class;\n            } else {\n                global.Class = Class;   // for browser\n            }\n        }).call(this, typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : {});\n\n    }, {}], 'biojs-io-fasta': [function (require, module, exports) {\n    // Generated by CoffeeScript 1.8.0\n        module.exports.parse = require('./parser');\n\n        module.exports.writer = require('./writer');\n\n    }, { './parser': 6, './writer': 9 }], 'biojs-vis-sequence': [function (require, module, exports) {\n        module.exports = require('./lib/index');\n\n    }, { './lib/index': 1 }]\n}, {}, ['biojs-vis-sequence']);\n","import \"../../utils/sequence.utils\";\nimport React, { createRef } from \"react\";\nimport _ from \"underscore\";\n\n/**\n * Takes sequence accession as props, fetches the sequence from the server, and\n * displays it in a modal.\n */\nexport default class SequenceModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error_msgs: [],\n      sequences: [],\n      requestCompleted: false,\n      isModalVisible: false,\n    };\n    this.modalRef = createRef();\n  }\n\n  // Lifecycle methods. //\n\n  render() {\n    const { isModalVisible, requestCompleted } = this.state;\n\n    return (\n      <div className=\"relative sequence-viewer-wrap\">\n        <dialog ref={this.modalRef} className=\"sequence-viewer fixed p-4 w-full max-w-2xl bg-transparent focus:outline-none overflow-visible z-50\">\n          <div className=\"relative flex flex-col rounded-lg bg-white shadow\">\n            <div className=\"flex items-start justify-between rounded-t border-b p-5\">\n              <h3 className=\"text-xl font-medium text-gray-900\">\n                View sequence\n              </h3>\n              <button className=\"sequence-viewer-close ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-gray-400 hover:bg-gray-200\" onClick={this.hide}>\n                <i className=\"fa-solid fa-xmark hover:text-black\"></i>\n              </button>\n            </div>\n            <div className=\"sequence-viewer-content max-h-[80vh] overflow-y-scroll\">\n              {(requestCompleted && this.resultsJSX()) || this.loadingJSX()}\n            </div>\n          </div>\n        </dialog>\n      </div>\n    );\n  }\n\n  /**\n   * Shows sequence viewer.\n   */\n  show = (url) => {\n    this.modalRef.current?.showModal();\n    this.setState({ requestCompleted: false });\n    this.loadJSON(url);\n  }\n\n  /**\n   * Hide sequence viewer.\n   */\n  hide = () => {\n    this.modalRef.current?.close();\n  }\n\n  /**\n   * Loads sequence using AJAX and updates modal state.\n   */\n  async loadJSON(url) {\n    // Fetch sequence and update state.\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n      this.setState({\n        sequences: data.sequences,\n        error_msgs: data.error_msgs,\n        requestCompleted: true,\n      });\n    } catch (error) {\n      console.log('Error fetching sequence:', error);\n      this.hide();\n      this.props.showErrorModal(error);\n    }\n  }\n\n  resultsJSX() {\n    return (\n      <div className=\"pt-2 px-6 pb-6 mt-2\">\n        {this.state.error_msgs.map((error_msg, index) => (\n          <div key={`error-message-${index}`} className=\"fastan\">\n            <div className=\"section-header border-b border-seqorange pl-px table mb-0 w-full pb-2\">\n              <h4 className=\"text-sm table-cell\">{error_msg[0]}</h4>\n            </div>\n            <div className=\"pt-0 px-0 pb-px\">\n              <pre className=\"m-0 p-0 rounded-none border-0 bg-inherit whitespace-pre-wrap break-keep\">{error_msg[1]}</pre>\n            </div>\n          </div>\n        ))}\n        {this.state.sequences.map((sequence, index) => (\n          <SequenceViewer key={`sequence-viewer-${index}`} sequence={sequence} />\n        ))}\n      </div>\n    );\n  }\n\n  loadingJSX() {\n    return (\n      <div className=\"my-4 text-center\">\n        <i className=\"fa fa-spinner fa-3x fa-spin\"></i>\n      </div>\n    );\n  }\n}\n\nclass SequenceViewer extends React.Component {\n  /**\n   * The CSS class name that will be assigned to the widget container. ID\n   * assigned to the widget container is derived from the same.\n   */\n  static widgetClass() {\n    return \"biojs-vis-sequence\";\n  }\n\n  render() {\n    this.widgetID = this.widgetClass + \"-\" + new Date().getUTCMilliseconds();\n\n    return (\n      <div className=\"fastan\">\n        <div className=\"section-header border-b border-seqorange pl-px table mb-0 w-full pb-2\">\n          <h4 className=\"text-sm table-cell\">\n            {this.props.sequence.id}\n            <small className=\"text-inherit\">&nbsp; {this.props.sequence.title}</small>\n          </h4>\n        </div>\n        <div className=\"fastan-content relative pt-0 px-0 pb-px\">\n          <div className={this.widgetClass} id={this.widgetID}></div>\n        </div>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    // attach BioJS sequence viewer\n    var widget = new Sequence({\n      sequence: this.props.sequence.value,\n      target: this.widgetID,\n      format: \"PRIDE\",\n      columns: {\n        size: 40,\n        spacedEach: 0,\n      },\n      formatOptions: {\n        title: false,\n        footer: false,\n      },\n    });\n    setTimeout(function() {\n      requestAnimationFrame(() => { widget.hideFormatSelector() }); // ensure React is done painting the DOM of the element before calling a function on it.\n    });\n  }\n}\n","// Default Export\n// ==============\n// In this module, we mix our bundled exports into the `_` object and export\n// the result. This is analogous to setting `module.exports = _` in CommonJS.\n// Hence, this module is also the entry point of our UMD bundle and the package\n// entry point for CommonJS and AMD users. In other words, this is (the source\n// of) the module you are interfacing with when you do any of the following:\n//\n// ```js\n// // CommonJS\n// var _ = require('underscore');\n//\n// // AMD\n// define(['underscore'], function(_) {...});\n//\n// // UMD in the browser\n// // _ is available as a global variable\n// ```\nimport * as allExports from './index.js';\nimport { mixin } from './index.js';\n\n// Add all of the Underscore functions to the wrapper object.\nvar _ = mixin(allExports);\n// Legacy Node.js API.\n_._ = _;\n// Export the Underscore API.\nexport default _;\n"],"names":["e","t","n","r","s","o","u","i","f","Error","code","l","exports","call","length","require","module","$","Class","EVT_ON_SELECTION_CHANGE","EVT_ON_SELECTION_CHANGED","global","Sequence","constructor","options","self","this","opt","jQuery","extend","_container","target","console","log","id","ready","_ready","_initialize","sequence","format","selection","start","end","columns","size","spacedEach","highlights","annotations","sequenceUrl","selectionColor","selectionFontColor","highlightFontColor","highlightBackgroundColor","fontColor","backgroundColor","width","undefined","height","formatSelectorVisible","eventTypes","getId","_headerDiv","_contentDiv","_buildFormatSelector","appendTo","_highlights","_annotations","tooltip","addClass","show","_tooltip","document","getElementById","_redraw","_requestSequence","clearSequence","setSequence","seq","identifier","match","arguments","_highlightsCount","children","remove","accession","ajax","url","dataType","data","segment","done","xml","sequenceNode","find","text","attr","message","fail","jqXHR","textStatus","errorThrown","showMessage","icon","hide","css","setSelection","aux","_setSelection","trigger","append","_formatSelector","change","val","addHighlight","h","color","background","highlight","Object","Number","toString","push","_applyHighlight","_restoreSelection","z","_applyHighlights","_restoreHighlights","a","b","sel","removeHighlight","splice","removeAllHighlights","setFormat","toUpperCase","each","setNumCols","numCols","visible","showFormatSelector","hideFormatSelector","current","_repaintSelection","_drawRaw","_drawCodata","_drawFasta","_drawPride","_addSpanEvents","split","pre","str","numColsForSpace","_drawSequence","html","_drawAnnotations","formatOptions","title","numLeft","numLeftSize","numLeftPad","numTop","numTopEach","spaceBetweenChars","footer","settings","toLowerCase","leftSpaces","row","annot","_formatIndex","key","_getHTMLRowAnnot","charRemaining","numRight","insertAfter","_addToolTip","_getAnnotationString","mouseover","mouseout","click","name","annotation","substr","indexOf","currentPos","defaultColor","pos","regions","region","spaceAfter","join","numRightSize","numRightPad","indL","indT","indR","x","j","aaRemaining","browser","msie","display","number","fillingChar","alignLeft","filling","padding","clickPos","isMouseDown","mousedown","parseInt","mouseup","cbGetMessageFunction","tipId","offset","containerOffset","closest","is","top","left","animate","opacity","addAnnotation","removeAnnotation","removeAllAnnotations","mixin","prototype","events","onAll","callback","context","on","oldMixin","proto","Events","breaker","nativeForEach","Array","forEach","hasOwnProperty","slice","idCounter","_","keys","obj","_typeof","TypeError","uniqueId","prefix","has","iterator","once","func","memo","ran","apply","eventsApi","_events","ctx","off","_callback","retain","ev","names","k","args","allEvents","all","triggerEvents","stopListening","listeners","_listeners","deleteListener","_listenerId","eventSplitter","action","rest","concat","test","a1","a2","a3","listenTo","listenToOnce","implementation","method","bind","unbind","define","BackboneEvents","xhr","GenericReader","read","_this","err","response","_onRetrieval","parse","Seq","Str","__hasProp","_super","Fasta","__super__","child","parent","ctor","__extends","currentSeq","database","databaseID","identifiers","label","line","seqs","_i","_len","contains","meta","strings","search","Utils","splitNChars","txt","num","result","_ref","FastaExporter","access","req","uri","opts","cb","window","parseHeaders","messages","XHR","XMLHttpRequest","noop","XDR","XDomainRequest","cors","useXDR","body","headers","sync","isJson","load","status","getStatusCode","getBody","error","errorFromStatusCode","statusCode","statusText","raw","getAllResponseHeaders","JSON","stringify","json","onreadystatechange","readyState","onload","onerror","evt","onprogress","ontimeout","open","withCredentials","timeout","setRequestHeader","responseType","beforeSend","send","responseText","responseXML","String","charAt","fn","called","defineProperty","Function","value","configurable","isFunction","list","array","len","forEachArray","string","forEachString","object","forEachObject","setTimeout","alert","confirm","prompt","replace","right","trim","arg","index","matched","uaMatch","ua","exec","platform_match","version","platform","navigator","userAgent","versionNumber","android","ipad","iphone","mobile","cros","mac","linux","win","desktop","chrome","opr","safari","webkit","rv","ie","opera","inherit","dest","src","noParent","getOwnPropertyNames","desc","getOwnPropertyDescriptor","__proto__","base","implements","classProto","clone","isArray","implementedType","theClass","type","enumerable","writable","statics","findType","implType","implMeta","Checker","typeOf","typeInfo","an","VERSION","writer","Symbol","toStringTag","c","Generator","create","_regeneratorDefine2","p","y","G","v","d","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","_regenerator","w","m","_invoke","_OverloadYield","asyncGeneratorStep","Promise","resolve","then","_classCallCheck","_defineProperties","_toPropertyKey","_createClass","_callSuper","_getPrototypeOf","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","Boolean","valueOf","_inherits","_setPrototypeOf","_defineProperty","toPrimitive","_toPrimitive","SequenceModal","_React$Component","props","_this$modalRef$curren","modalRef","showModal","setState","requestCompleted","loadJSON","_this$modalRef$curren2","close","state","error_msgs","sequences","isModalVisible","createRef","_this$state","_jsx","className","ref","_jsxs","onClick","resultsJSX","loadingJSX","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","fetch","sent","t0","showErrorModal","stop","_loadJSON","_next","_throw","_x","map","error_msg","SequenceViewer","React","_React$Component2","widgetID","widgetClass","Date","getUTCMilliseconds","widget","requestAnimationFrame"],"sourceRoot":""}